<?xml version="1.0"?>
<rss version="2.0"><channel><title>Programa&#xE7;&#xE3;o em Lua Latest Topics</title><link>https://forum.multitheftauto.com/forum/127-programa%C3%A7%C3%A3o-em-lua/</link><description>Programa&#xE7;&#xE3;o em Lua Latest Topics</description><language>en</language><item><title>object_preview bugado?</title><link>https://forum.multitheftauto.com/topic/137031-object_preview-bugado/</link><description><![CDATA[<p>
	Olá amigos. Tenho um painel <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> pegar veículos que utilizo o 'object preview' para não precisar utilizar imagens .png, mas não sei por qual motivo no meu caso os IDS das motocicletas não aparecem somente um ID (<span>521</span>) que aparece. Mas a uns dias atrás um amigo entrou no servidor e ele me transmitindo tela no discord os veículos nenhum apareciam nem as motocicletas.<br />
	<br />
	Utilizei o código <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> exemplo da wiki: <a href="https://wiki.multitheftauto.com/wiki/Resource:Object_preview" rel="external nofollow">https://wiki.multitheftauto.com/wiki/Resource:Object_preview</a><br />
	e defini o ID das motocicletas e não funciona também, assim sendo eu tenho a certeza que o problema talvez não seja em meu código.
</p>

<p>
	Já utilizei também versões variadas do 'object preview' mas sem sucesso infelizmente. Já rodei a <abbr title="Multi Theft Auto"><abbr title="Multi Theft Auto">mta</abbr></abbr> forum sobre o object_preview e não achei nada relacionado a esse problema então não sei oque realmente é, percebo que o pessoal utiliza muito o object_preview para mostrar skins em painéis e isso funciona super bem.
</p>

<p>
	 
</p>

<p>
	 
</p>

<p>
	Algumas imagens <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> como fica: <br />
	<a href="https://im.ge/i/F68r8Y" rel="external nofollow">https://im.ge/i/F68r8Y</a><br />
	<a href="https://im.ge/i/F68FQD" rel="external nofollow">https://im.ge/i/F68FQD</a>
</p>

<p>
	<a href="https://im.ge/i/F68OI4" rel="external nofollow">https://im.ge/i/F68OI4</a>
</p>

<p>
	 
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="com">-- Codigo do object preview no painel</span><span class="pln">

 
      
         
panel_vehic</span><span class="pun">.</span><span class="pln">changeDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> type </span><span class="pun">==</span><span class="pln"> </span><span class="str">"change"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
        carro </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">[</span><span class="str">"[B]object_view"</span><span class="pun">]:</span><span class="pln">destroyObjectPreview</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            destroyElement</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> pos </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">getElementPosition</span><span class="pun">(</span><span class="pln">localPlayer</span><span class="pun">)}</span><span class="pln">
        veiculo </span><span class="pun">=</span><span class="pln"> createVehicle</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> </span><span class="lit">500</span><span class="pun">,</span><span class="pln"> </span><span class="lit">500</span><span class="pun">,</span><span class="pln"> pos</span><span class="pun">[</span><span class="lit">3</span><span class="pun">])</span><span class="pln">
        setVehicleColor</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">,</span><span class="pln"> </span><span class="lit">66</span><span class="pun">,</span><span class="pln"> </span><span class="lit">135</span><span class="pun">,</span><span class="pln"> </span><span class="lit">245</span><span class="pun">)</span><span class="pln">
        carro </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">[</span><span class="str">"[B]object_view"</span><span class="pun">]:</span><span class="pln">createObjectPreview</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">*</span><span class="lit">410</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">*</span><span class="lit">310</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">*</span><span class="lit">214</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">*</span><span class="lit">214</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
        exports</span><span class="pun">[</span><span class="str">"[B]object_view"</span><span class="pun">]:</span><span class="pln">setRotation</span><span class="pun">(</span><span class="pln">carro</span><span class="pun">,</span><span class="pln"> </span><span class="lit">-10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">-10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">140</span><span class="pun">)</span><span class="pln">

       </span><span class="com">-- carro = exports["[B]object_view"]:setProjection(veiculo, projPosX, projPosY, projSizeX, projSizeY, true, true)  -- TESTE</span><span class="pln">

    </span><span class="kwd">elseif</span><span class="pln"> type </span><span class="pun">==</span><span class="pln"> </span><span class="str">"delete"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
        carro </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">[</span><span class="str">"[B]object_view"</span><span class="pun">]:</span><span class="pln">destroyObjectPreview</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            destroyElement</span><span class="pun">(</span><span class="pln">veiculo</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span></pre>

<p>
	 
</p>

<p>
	Fiz uma tabela para separar os veículos por pagina no painel...!
</p>

<p>
	 
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="pln">panel_vehic </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        vehicles </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="pun">[</span><span class="str">"Carros"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">529</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">546</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">402</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">405</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">573</span><span class="pun">},</span><span class="pln">

            </span><span class="pun">},</span><span class="pln">
            </span><span class="pun">[</span><span class="str">"Motos"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">468</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">586</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">461</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">463</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">521</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">522</span><span class="pun">},</span><span class="pln">
            </span><span class="pun">},</span><span class="pln">
            </span><span class="pun">[</span><span class="str">"Importados"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">415</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">451</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">560</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">587</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">474</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">410</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">401</span><span class="pun">},</span><span class="pln">
                </span><span class="pun">{</span><span class="lit">404</span><span class="pun">},</span><span class="pln">
            </span><span class="pun">},</span><span class="pln">
        </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
</span><span class="pun">}</span></pre>

<p>
	 
</p>
]]></description><guid isPermaLink="false">137031</guid><pubDate>Sat, 30 Jul 2022 02:09:11 +0000</pubDate></item><item><title>evento para quando veiculo for spawnado</title><link>https://forum.multitheftauto.com/topic/136080-evento-para-quando-veiculo-for-spawnado/</link><description><![CDATA[<p>
	galeta to com um sistema <abbr title="Definitive Edition">de</abbr> cnh, que quando alguém que não tem cnh entra em um carro/moto/helicopter etc...<br />
	aparece uma mensagem DX avisando que ele não tem cnh, esse mod utiliza do evento onvehicleenter, porem<br />
	quando alguem spawna um veiculo <abbr title="Definitive Edition">de</abbr> um marker ou um staff seta um carro esse mensagem da erro<br />
	Pois em tese a pessoa nao entrou no carro lembrando que não sei se é exatamente isso que ta dando erro...
</p>

<p>
	linha <abbr title="Definitive Edition">de</abbr> onde da o erro e tambem onde foi criado a função que ta dando erro:
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">function</span><span class="pln"> DxAlertaONCar </span><span class="pun">()</span><span class="pln">
tick9 </span><span class="pun">=</span><span class="pln"> getTickCount</span><span class="pun">()</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onClientRender"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> AlertaCNHCAR</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"CNH:AlertaCar"</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"CNH:AlertaCar"</span><span class="pun">,</span><span class="pln">root</span><span class="pun">,</span><span class="pln"> DxAlertaONCar</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> AlertaCNHCAR</span><span class="pun">()</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> getPedOccupiedVehicle</span><span class="pun">(</span><span class="pln">localPlayer</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		dxDrawText</span><span class="pun">(</span><span class="str">"#ff0000VOCÊ NÃO POSSUI HABILITAÇÃO (B)"</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">*</span><span class="lit">950</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">*</span><span class="lit">655</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">*</span><span class="lit">496</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">*</span><span class="lit">830</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1.30</span><span class="pun">,</span><span class="pln"> </span><span class="str">"sans"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span></pre>

<p>
	<img alt="spacer.png" class="ipsImage" data-ratio="6.37" height="55" style="height:auto;" width="864" data-src="https://media.discordapp.net/attachments/981737089827758150/982003031098929163/unknown.png?width=864&amp;height=55" src="https://forum.multitheftauto.com/applications/core/interface/js/spacer.png" />
</p>
]]></description><guid isPermaLink="false">136080</guid><pubDate>Thu, 02 Jun 2022 19:32:49 +0000</pubDate></item><item><title>Script de marker bugando e crashando o MTA.</title><link>https://forum.multitheftauto.com/topic/136178-script-de-marker-bugando-e-crashando-o-mta/</link><description><![CDATA[<p>
	Client side: 
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="pln">anim_tick </span><span class="pun">=</span><span class="pln"> getTickCount</span><span class="pun">()</span><span class="pln">

addEventHandler</span><span class="pun">(</span><span class="str">"onClientResourceStart"</span><span class="pun">,</span><span class="pln"> resourceRoot</span><span class="pun">,</span><span class="pln">
	</span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> k</span><span class="pun">,</span><span class="pln">v </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"marker"</span><span class="pun">,</span><span class="pln"> _</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">v</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:custom"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">v</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:cicletype"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				getMarkerCustom</span><span class="pun">()</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> getMarkerCustom</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> progress </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="pln">getTickCount</span><span class="pun">()</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> anim_tick</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">3000</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> Op1</span><span class="pun">,</span><span class="pln"> Op2  </span><span class="pun">=</span><span class="pln"> interpolateBetween</span><span class="pun">(</span><span class="lit">0.4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> progress</span><span class="pun">,</span><span class="pln"> </span><span class="str">"SineCurve"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> Op3</span><span class="pun">,</span><span class="pln"> Op4</span><span class="pun">,</span><span class="pln"> Op5  </span><span class="pun">=</span><span class="pln"> interpolateBetween</span><span class="pun">(</span><span class="lit">0.8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.6</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2.1</span><span class="pun">,</span><span class="pln"> progress</span><span class="pun">,</span><span class="pln"> </span><span class="str">"SineCurve"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> px</span><span class="pun">,</span><span class="pln"> py</span><span class="pun">,</span><span class="pln"> pz</span><span class="pun">,</span><span class="pln"> l1</span><span class="pun">,</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> l3
	</span><span class="kwd">local</span><span class="pln"> px</span><span class="pun">,</span><span class="pln"> py</span><span class="pun">,</span><span class="pln"> pz </span><span class="pun">=</span><span class="pln"> getCameraMatrix</span><span class="pun">()</span><span class="pln">

	</span><span class="kwd">for</span><span class="pln"> _</span><span class="pun">,</span><span class="pln"> marker </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">getElementsByType </span><span class="str">'marker'</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:custom"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:cicletype"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			setMarkerColor</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> l1</span><span class="pun">,</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> l3 </span><span class="pun">=</span><span class="pln"> getElementPosition</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">((</span><span class="pln">px </span><span class="pun">+</span><span class="pln"> l1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">py </span><span class="pun">+</span><span class="pln"> l2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pz </span><span class="pun">+</span><span class="pln"> l3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> g</span><span class="pun">,</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> getMarkerColor</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> dist </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> isLineOfSightClear</span><span class="pun">(</span><span class="pln">px</span><span class="pun">,</span><span class="pln"> py</span><span class="pun">,</span><span class="pln"> pz</span><span class="pun">,</span><span class="pln"> l1</span><span class="pun">,</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> l3</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> localPlayer</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> x</span><span class="pun">,</span><span class="pln">y </span><span class="pun">=</span><span class="pln"> getScreenFromWorldPosition</span><span class="pun">(</span><span class="pln">l1</span><span class="pun">,</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> l3</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> x </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">for</span><span class="pln"> k</span><span class="pun">,</span><span class="pln"> v </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">ImgType</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
							</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:custom"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> k </span><span class="kwd">then</span><span class="pln">
								dxDrawMaterialLine3D </span><span class="pun">(</span><span class="pln">l1</span><span class="pun">,</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> l3 </span><span class="pun">+</span><span class="pln"> Op1 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.4</span><span class="pun">,</span><span class="pln"> l1</span><span class="pun">,</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> l3 </span><span class="pun">+</span><span class="pln"> Op2 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.4</span><span class="pun">,</span><span class="pln"> dxCreateTexture</span><span class="pun">(</span><span class="str">""</span><span class="pun">..</span><span class="pln">v</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]..</span><span class="str">""</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="pln">v</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> v</span><span class="pun">[</span><span class="lit">3</span><span class="pun">],</span><span class="pln"> v</span><span class="pun">[</span><span class="lit">4</span><span class="pun">],</span><span class="pln"> </span><span class="lit">255</span><span class="pun">))</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
						</span><span class="kwd">for</span><span class="pln"> k</span><span class="pun">,</span><span class="pln"> v </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">CicleType</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">		
							</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:cicletype"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> k </span><span class="kwd">then</span><span class="pln">
								dxDrawMaterialLine3D </span><span class="pun">(</span><span class="pln">l1</span><span class="pun">,</span><span class="pln"> l2 </span><span class="pun">-</span><span class="pln"> Op3 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.3</span><span class="pun">,</span><span class="pln"> l3 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.03</span><span class="pun">,</span><span class="pln"> l1</span><span class="pun">,</span><span class="pln"> l2 </span><span class="pun">+</span><span class="pln"> Op4 </span><span class="pun">-</span><span class="pln"> </span><span class="lit">0.3</span><span class="pun">,</span><span class="pln"> l3 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.03</span><span class="pun">,</span><span class="pln"> dxCreateTexture</span><span class="pun">(</span><span class="str">""</span><span class="pun">..</span><span class="pln">v</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]..</span><span class="str">""</span><span class="pun">),</span><span class="pln"> Op5 </span><span class="pun">-</span><span class="pln"> </span><span class="lit">0.7</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="pln">v</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> v</span><span class="pun">[</span><span class="lit">3</span><span class="pun">],</span><span class="pln"> v</span><span class="pun">[</span><span class="lit">4</span><span class="pun">],</span><span class="pln"> </span><span class="lit">255</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">-1730900</span><span class="pun">)</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onClientRender"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> getMarkerCustom</span><span class="pun">)</span></pre>

<p>
	Shared side:
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="pln">ImgType </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">-- ID, Imagem Logo, R, G, B</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/1.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- CETA</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/2.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- MALETA</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/3.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- ANONYMOUS</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/4.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- CHOQUE</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/5.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- GOE</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/6.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- CONCESSONARIA</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">7</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/7.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- DETRAN</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/8.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- MECANICO</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/9.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- POLICIA CIVIL</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">10</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/10.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- POLICIA FEDERAL</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/11.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- POLICIA MILITAR</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/12.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- POLICIA RODOVIARIA FEDERAL</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">13</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/13.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- SAMU</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">14</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/tipos/8.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="lit">147</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- MECANICO COR ROSA</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

CicleType </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">-- ID, Imagem Circulo, R, G, B</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/circulos/1.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- CICULO PADRÂO BRANCO</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/circulos/1.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="lit">147</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- CICULO PADRÂO ROSA</span><span class="pln">
	</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"assets/circulos/1.png"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">58</span><span class="pun">,</span><span class="pln"> </span><span class="lit">95</span><span class="pun">,</span><span class="pln"> </span><span class="lit">205</span><span class="pun">},</span><span class="pln"> </span><span class="com">-- CICULO PADRÂO AZUL ROYAL</span><span class="pln">
</span><span class="pun">}</span></pre>

<p>
	Server side
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="pln">concessonaria1 </span><span class="pun">=</span><span class="pln"> createMarker </span><span class="pun">(</span><span class="lit">1778.1500000000</span><span class="pun">,</span><span class="lit">-1772.000000000</span><span class="pun">,</span><span class="lit">12.70305099487</span><span class="pun">,</span><span class="pln"> </span><span class="str">"cylinder"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
setElementData</span><span class="pun">(</span><span class="pln">concessonaria1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:custom"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- MARKER ID IMAGEM ( TIPO 6 = CONCESSONARIA)</span><span class="pln">
setElementData</span><span class="pun">(</span><span class="pln">concessonaria1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"marker:cicletype"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- MARKER ID CIRCULO ( TIPO 3 = CICULO PADRAO AZUL)</span></pre>

<p>
	Debugscript:
</p>

<p>
	<img alt="spacer.png" class="ipsImage" data-ratio="26.31" height="166" style="height:auto;" width="631" data-src="https://i.imgur.com/K3yT1LN.png" src="https://forum.multitheftauto.com/applications/core/interface/js/spacer.png" />
</p>

<p>
	Acredito que o problema é no for, mas não sei como resolver... <img src="https://twemoji.maxcdn.com/2/72x72/1f625.png" class="ipsEmoji" alt="😥">
</p>
]]></description><guid isPermaLink="false">136178</guid><pubDate>Thu, 09 Jun 2022 03:35:34 +0000</pubDate></item><item><title>D&#xFA;vida: pote&#xE7;&#xE3;o de recursos</title><link>https://forum.multitheftauto.com/topic/136953-d%C3%BAvida-pote%C3%A7%C3%A3o-de-recursos/</link><description><![CDATA[<p>
	Gostaria <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> saber se há como bloquear para não salvar arquivos .DFF e .TXD na pasta <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> cache do cliente, como exemplo carros e texturas <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> modelagens
</p>

<p>
	andei pesquisando mas não encontrei muito a respeito para sanar <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> fato essa duvida
</p>

<p>
	Sabemos que mesmo compilando o arquivo é possível o player usar a .TXD e DFF então ignoremos essa opção
</p>

<p>
	fiquei hesitando em usar o download"false" e é o que <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> fato estou testando agora - não testei ainda -, seria essa uma opção alternável?
</p>

<p>
	PS: A função download indo no meta.xml não funciona. torna a deixar os arquivos oriundos do <abbr title="Grand Theft Auto">GTA</abbr> SA.
</p>

<p>
	Seria a única forma uma proteção <abbr title="Definitive Edition">de</abbr> código com licença?
</p>
]]></description><guid isPermaLink="false">136953</guid><pubDate>Mon, 25 Jul 2022 21:20:06 +0000</pubDate></item><item><title>Ajuda em um script de MTA</title><link>https://forum.multitheftauto.com/topic/136972-ajuda-em-um-script-de-mta/</link><description><![CDATA[<p>
	bom dia , boa tarde, boa noite fiz um script <abbr title="Definitive Edition">de</abbr> plantação so que nao sei como fasso pra varios players usarem ao mesmo tempo sem bugar
</p>

<h3 style="font-size:20px;padding:5px 0px 0px;">
	            elseif itemID == 13 then<br />
	            takeItem(player, itemID, quantidade)<br />
	            local x, y, z = getElementPosition(thePlayer)<br />
	            local vasocanabis = createObject(thePlayer,2203, x+1, y, z-1)<br />
	            exports.danger_infobox:addBox(player,"success", "Voce plantou um Pé <abbr title="Definitive Edition">de</abbr> canabis!")<br />
	            markercolher = createMarker ( x+1, y, z-1, "cylinder", 1.5, 255, 255, 0, 170 )<br />
	            setTimer(<br />
	        function ()<br />
	            destroyElement(vasocanabis)<br />
	            canabispronta = createObject(2010, x+1, y, z-1, 0, 0, 0)<br />
	       end<br />
	       ,5000,1<br />
	       )<br />
	function colher(player)<br />
	        destroyElement(canabispronta)<br />
	        destroyElement(markercolher) <br />
	        exports.danger_infobox:addBox(player ,"info", "Voce colheu um pe <abbr title="Definitive Edition">de</abbr> canabis!")<br />
	end<br />
	function key (player)<br />
	    if isElement(canabispronta) then<br />
	    bindKey (player, "e", "down", colher)<br />
	        exports.danger_infobox:addBox(player ,"info", "Use telca E para colher!")<br />
	end <br />
	end<br />
	addEventHandler( "onMarkerHit", markercolher, key)
</h3>
]]></description><guid isPermaLink="false">136972</guid><pubDate>Tue, 26 Jul 2022 10:41:34 +0000</pubDate></item><item><title>Como consigo fazer v&#xE1;rias ACLS em um c&#xF3;digo s&#xF3;</title><link>https://forum.multitheftauto.com/topic/137021-como-consigo-fazer-v%C3%A1rias-acls-em-um-c%C3%B3digo-s%C3%B3/</link><description><![CDATA[<pre style="border-bottom-width:1px;">Estou com um problema no meu código, não sei fazer tabelas e queria colocar várias ACL'S em um código só e queria que na notificação aparecesse a ACL que dominou</pre>

<p>
	 
</p>

<div>
	<div>
		<span>local</span><span> Dominar </span><span>=</span><span> </span><span>createMarker</span><span>(</span><span>369.676</span><span>, </span><span>-</span><span>2012.626</span><span>, </span><span>7.672</span><span> </span><span>-</span><span>1</span><span>, </span><span>"</span><span>cylinder</span><span>"</span><span>, </span><span>1.2</span><span>, </span><span>255</span><span>, </span><span>255</span><span>, </span><span>255</span><span>, </span><span>100</span><span>)</span>
	</div>
	 

	<div>
		<span>addEventHandler</span><span>(</span><span>"</span><span>onMarkerHit</span><span>"</span><span>, Dominar,</span>
	</div>

	<div>
		<span>function</span><span>(</span><span>source</span><span>)</span>
	</div>

	<div>
		<span>triggerClientEvent</span><span> (source, </span><span>"</span><span>MST.sendPlayerNotification</span><span>"</span><span>, source, </span><span>"</span><span>Digite /dominar(Sigla <abbr title="Definitive Edition">de</abbr> sua fac) para dominar o local</span><span>"</span><span>, </span><span>"</span><span>success</span><span>"</span><span>)</span>
	</div>

	<div>
		<span>end</span><span>)</span>
	</div>
	 

	<div>
		<span>addCommandHandler(</span><span>"</span><span>dominar</span><span>"</span><span>,</span>
	</div>
	 

	<div>
		<span>function</span><span>(</span><span>source</span><span>)</span>
	</div>

	<div>
		<span>    </span><span>local</span><span> acc </span><span>=</span><span> </span><span>getPlayerAccount</span><span> ( source )</span>
	</div>

	<div>
		<span>    </span><span>if</span><span> acc </span><span>and</span><span> </span><span>not</span><span> </span><span>isGuestAccount</span><span> ( acc ) </span><span>then</span>
	</div>

	<div>
		<span>    </span><span>local</span><span> accName </span><span>=</span><span> </span><span>getAccountName</span><span> (acc)</span>
	</div>

	<div>
		<span>    </span><span>if</span><span> </span><span>isObjectInACLGroup</span><span> (</span><span>"</span><span>user.</span><span>"</span><span>..</span><span>accName, </span><span>aclGetGroup</span><span> ( </span><span>"</span><span>PCC</span><span>"</span><span> ) ) </span><span>then</span>
	</div>

	<div>
		<span>    </span><span>triggerClientEvent</span><span> (source, </span><span>"</span><span>MST.sendPlayerNotification</span><span>"</span><span>, source, </span><span>"</span><span>Você dominou o local com sucesso</span><span>"</span><span>, </span><span>"</span><span>success</span><span>"</span><span>)</span>
	</div>

	<div>
		<span>    </span><span>triggerClientEvent</span><span> (source, </span><span>"</span><span>MST.sendPlayerNotification</span><span>"</span><span>, </span><span>root</span><span>, </span><span>"(Aqui seria a fac que estpa dominando) </span><span>está dominando o Jacarézinho</span><span>"</span><span>, </span><span>"</span><span>warning</span><span>"</span><span>)</span>
	</div>

	<div>
		<span>    </span><span>end</span>
	</div>

	<div>
		<span>end</span>
	</div>

	<div>
		<span>end</span><span>)</span>
	</div>
</div>
]]></description><guid isPermaLink="false">137021</guid><pubDate>Thu, 28 Jul 2022 19:52:53 +0000</pubDate></item><item><title>bad argument dbquery</title><link>https://forum.multitheftauto.com/topic/136990-bad-argument-dbquery/</link><description><![CDATA[<p>
	opa, boa noite. então, estou com um backup <abbr title="Definitive Edition">de</abbr> um servidor todo em mysql. configurei a conexão do mysql, startei e foi tudo ok. liguei o servidor no local porém dá um erro.<br />
	Warning: un_auth\server.lua:105 "Bad argument @ 'dbQuery' [Expected db-connection at argument 3, got boolean]<br />
	<br />
	 
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">function</span><span class="pln"> playerRegister</span><span class="pun">(</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">,</span><span class="pln">confirmPassword</span><span class="pun">,</span><span class="pln"> email</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> mtaSerial </span><span class="pun">=</span><span class="pln"> getPlayerSerial</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> encryptionRule </span><span class="pun">=</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> encryptedPW </span><span class="pun">=</span><span class="pln"> string</span><span class="pun">.</span><span class="pln">lower</span><span class="pun">(</span><span class="pln">md5</span><span class="pun">(</span><span class="pln">password</span><span class="pun">))</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> ipAddress </span><span class="pun">=</span><span class="pln"> getPlayerIP</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	
	dbQuery</span><span class="pun">(</span><span class="pln">playerRegisterCallback</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> username</span><span class="pun">,</span><span class="pln"> password</span><span class="pun">,</span><span class="pln"> mtaSerial</span><span class="pun">,</span><span class="pln"> ipAddress</span><span class="pun">,</span><span class="pln"> encryptedPW</span><span class="pun">,</span><span class="pln"> encryptionRule</span><span class="pun">,</span><span class="pln"> email</span><span class="pun">},</span><span class="pln"> mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT username,mtaserial FROM accounts WHERE (username = ? or mtaserial = ?)"</span><span class="pun">,</span><span class="pln"> username</span><span class="pun">,</span><span class="pln"> mtaSerial</span><span class="pun">)</span><span class="pln"> </span><span class="com">--linha 105</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"accounts:register:attempt"</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:register:attempt"</span><span class="pun">,</span><span class="pln">getRootElement</span><span class="pun">(),</span><span class="pln">playerRegister</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> playerRegisterCallback</span><span class="pun">(</span><span class="pln">queryHandler</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> username</span><span class="pun">,</span><span class="pln"> password</span><span class="pun">,</span><span class="pln"> serial</span><span class="pun">,</span><span class="pln"> ip</span><span class="pun">,</span><span class="pln"> encryptedPW</span><span class="pun">,</span><span class="pln"> encryptionRule</span><span class="pun">,</span><span class="pln"> email</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> result</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">queryHandler</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"Kullanıcı adı/email kullanılıyor veya yeni bir hesap oluşturmaya çalışıyorsun! ("</span><span class="pun">..</span><span class="pln">result</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="str">"username"</span><span class="pun">]..</span><span class="str">")"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"error"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"INSERT INTO `accounts` SET `username`='"</span><span class="pun">..</span><span class="pln">username</span><span class="pun">..</span><span class="str">"', `password`='"</span><span class="pun">..</span><span class="pln">encryptedPW</span><span class="pun">..</span><span class="str">"', `email`='"</span><span class="pun">..</span><span class="pln">email</span><span class="pun">..</span><span class="str">"', `registerdate`=NOW(), `ip`='"</span><span class="pun">..</span><span class="pln">ip</span><span class="pun">..</span><span class="str">"', `salt`='"</span><span class="pun">..</span><span class="pln">encryptionRule</span><span class="pun">..</span><span class="str">"', `mtaserial`='"</span><span class="pun">..</span><span class="pln">serial</span><span class="pun">..</span><span class="str">"', `activated`='1' "</span><span class="pun">)</span><span class="pln">
		exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"Hesabınız başarıyla oluşturuldu, giriş yapabilirsiniz."</span><span class="pun">,</span><span class="pln"> </span><span class="str">"success"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span></pre>

<p>
	Comentei na frente daLinha que está o erro &gt; 105 &lt;<br />
	ajuda eu <span><img alt=":D" data-emoticon="" height="20" src="https://forum.multitheftauto.com/uploads/emoticons/biggrin.png" srcset="https://forum.multitheftauto.com/uploads/emoticons/biggrin@2x.png 2x" title=":D" width="20" /></span>
</p>
<p>
	esse seria todo o codigo do serv side<br />
	 
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">local</span><span class="pln"> mysql </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_mysql
</span><span class="kwd">local</span><span class="pln"> getElementData </span><span class="pun">=</span><span class="pln"> getElementData
</span><span class="kwd">local</span><span class="pln"> setElementData </span><span class="pun">=</span><span class="pln"> setElementData
</span><span class="kwd">local</span><span class="pln"> exports </span><span class="pun">=</span><span class="pln"> exports

</span><span class="kwd">function</span><span class="pln"> setElementDataEx</span><span class="pun">(</span><span class="pln">theElement</span><span class="pun">,</span><span class="pln"> theParameter</span><span class="pun">,</span><span class="pln"> theValue</span><span class="pun">,</span><span class="pln"> syncToClient</span><span class="pun">,</span><span class="pln"> noSyncAtall</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">theElement</span><span class="pun">,</span><span class="pln"> theParameter</span><span class="pun">,</span><span class="pln"> theValue</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> resourceStart</span><span class="pun">(</span><span class="pln">resource</span><span class="pun">)</span><span class="pln">
	setWaveHeight </span><span class="pun">(</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
	setGameType</span><span class="pun">(</span><span class="str">"Roleplay"</span><span class="pun">)</span><span class="pln">
	setMapName</span><span class="pun">(</span><span class="str">"Istanbul"</span><span class="pun">)</span><span class="pln">
	setRuleValue</span><span class="pun">(</span><span class="str">"Sürüm"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"rc0.9"</span><span class="pun">)</span><span class="pln">
	setRuleValue</span><span class="pun">(</span><span class="str">"Geliştiriciler"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"UNT Development Team"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">un_pool</span><span class="pun">:</span><span class="pln">getPoolElementsByType</span><span class="pun">(</span><span class="str">"player"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		triggerEvent</span><span class="pun">(</span><span class="str">"playerJoinResourceStart"</span><span class="pun">,</span><span class="pln"> value</span><span class="pun">,</span><span class="pln"> resource</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onResourceStart"</span><span class="pun">,</span><span class="pln"> getResourceRootElement</span><span class="pun">(</span><span class="pln">getThisResource</span><span class="pun">()),</span><span class="pln"> resourceStart</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> onJoin</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> skipreset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> loggedIn </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loggedin"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> loggedIn </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		skipreset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:seamless:validated"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> skipreset </span><span class="kwd">then</span><span class="pln"> 
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loggedin"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:loggedin"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"dbid"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"admin_level"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hiddenadmin"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"globalooc"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"muted"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loginattempts"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"timeinserver"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"chatbubbles"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		setElementDimension</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9999</span><span class="pun">)</span><span class="pln">
		setElementInterior</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">updateNametagColor</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onPlayerJoin"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> onJoin</span><span class="pun">)</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"playerJoinResourceStart"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"playerJoinResourceStart"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> onJoin</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> resetNick</span><span class="pun">(</span><span class="pln">oldNick</span><span class="pun">,</span><span class="pln"> newNick</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
	setPlayerName</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> oldNick</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">sendMessageToAdmins</span><span class="pun">(</span><span class="str">"Admin Warn: "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">oldNick</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">" kendi adını değiştirmek için çalıştı "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">newNick</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"."</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"resetName"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"resetName"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> resetNick</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> clientReady</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> thePlayer </span><span class="pun">=</span><span class="pln"> source
	</span><span class="kwd">local</span><span class="pln"> resources </span><span class="pun">=</span><span class="pln"> getResources</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> missingResources </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">resources</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> resourceName </span><span class="pun">=</span><span class="pln"> getResourceName</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> resourceName </span><span class="pun">==</span><span class="pln"> </span><span class="str">"un_global"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> resourceName </span><span class="pun">==</span><span class="pln"> </span><span class="str">"un_mysql"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> resourceNmae </span><span class="pun">==</span><span class="pln"> </span><span class="str">"un_pool"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> getResourceState</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"loaded"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> getResourceState</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"stopping"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> getResourceState</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"failed to load"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				missingResources </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
				outputChatBox</span><span class="pun">(</span><span class="str">"Sunucu bağımlı kaynak eksik '"</span><span class="pun">..</span><span class="pln">getResourceName</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)..</span><span class="str">"'."</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
				outputChatBox</span><span class="pun">(</span><span class="str">"Kısa bir süre sonra tekrar deneyiniz"</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">break</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> missingResources </span><span class="kwd">then</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> willPlayerBeBanned </span><span class="kwd">then</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="str">"beginLogin"</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="str">"beginLogin"</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Banned."</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"onJoin"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onJoin"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> clientReady</span><span class="pun">)</span><span class="pln">

addEventHandler</span><span class="pun">(</span><span class="str">"accounts:login:request"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> 
	</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> seamless </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:seamless:validated"</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> seamless </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:seamless:validated"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:options"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"item:updateclient"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">return</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:login:request"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> playerRegister</span><span class="pun">(</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">,</span><span class="pln">confirmPassword</span><span class="pun">,</span><span class="pln"> email</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> mtaSerial </span><span class="pun">=</span><span class="pln"> getPlayerSerial</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> encryptionRule </span><span class="pun">=</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">9</span><span class="pun">))</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> encryptedPW </span><span class="pun">=</span><span class="pln"> string</span><span class="pun">.</span><span class="pln">lower</span><span class="pun">(</span><span class="pln">md5</span><span class="pun">(</span><span class="pln">password</span><span class="pun">))</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> ipAddress </span><span class="pun">=</span><span class="pln"> getPlayerIP</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	
	dbQuery</span><span class="pun">(</span><span class="pln">playerRegisterCallback</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> username</span><span class="pun">,</span><span class="pln"> password</span><span class="pun">,</span><span class="pln"> mtaSerial</span><span class="pun">,</span><span class="pln"> ipAddress</span><span class="pun">,</span><span class="pln"> encryptedPW</span><span class="pun">,</span><span class="pln"> encryptionRule</span><span class="pun">,</span><span class="pln"> email</span><span class="pun">},</span><span class="pln"> mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT username,mtaserial FROM accounts WHERE (username = ? or mtaserial = ?)"</span><span class="pun">,</span><span class="pln"> username</span><span class="pun">,</span><span class="pln"> mtaSerial</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"accounts:register:attempt"</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:register:attempt"</span><span class="pun">,</span><span class="pln">getRootElement</span><span class="pun">(),</span><span class="pln">playerRegister</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> playerRegisterCallback</span><span class="pun">(</span><span class="pln">queryHandler</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> username</span><span class="pun">,</span><span class="pln"> password</span><span class="pun">,</span><span class="pln"> serial</span><span class="pun">,</span><span class="pln"> ip</span><span class="pun">,</span><span class="pln"> encryptedPW</span><span class="pun">,</span><span class="pln"> encryptionRule</span><span class="pun">,</span><span class="pln"> email</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> result</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">queryHandler</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"Kullanıcı adı/email kullanılıyor veya yeni bir hesap oluşturmaya çalışıyorsun! ("</span><span class="pun">..</span><span class="pln">result</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="str">"username"</span><span class="pun">]..</span><span class="str">")"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"error"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"INSERT INTO `accounts` SET `username`='"</span><span class="pun">..</span><span class="pln">username</span><span class="pun">..</span><span class="str">"', `password`='"</span><span class="pun">..</span><span class="pln">encryptedPW</span><span class="pun">..</span><span class="str">"', `email`='"</span><span class="pun">..</span><span class="pln">email</span><span class="pun">..</span><span class="str">"', `registerdate`=NOW(), `ip`='"</span><span class="pun">..</span><span class="pln">ip</span><span class="pun">..</span><span class="str">"', `salt`='"</span><span class="pun">..</span><span class="pln">encryptionRule</span><span class="pun">..</span><span class="str">"', `mtaserial`='"</span><span class="pun">..</span><span class="pln">serial</span><span class="pun">..</span><span class="str">"', `activated`='1' "</span><span class="pun">)</span><span class="pln">
		exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"Hesabınız başarıyla oluşturuldu, giriş yapabilirsiniz."</span><span class="pun">,</span><span class="pln"> </span><span class="str">"success"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">local</span><span class="pln"> accountCharacters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="kwd">local</span><span class="pln"> onlineForPlayer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> validateCredentials</span><span class="pun">(</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">,</span><span class="pln">checksave</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="pun">(</span><span class="pln">username </span><span class="pun">==</span><span class="pln"> </span><span class="str">""</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="pun">(</span><span class="pln">password </span><span class="pun">==</span><span class="pln"> </span><span class="str">""</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">	
			</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"Lütfen şifrenizi girin."</span><span class="pun">,</span><span class="pln"> </span><span class="str">"error"</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"Lütfen kullanıcı adınızı girin."</span><span class="pun">,</span><span class="pln"> </span><span class="str">"error"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"onRequestLogin"</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onRequestLogin"</span><span class="pun">,</span><span class="pln">getRootElement</span><span class="pun">(),</span><span class="pln">validateCredentials</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> playerLogin</span><span class="pun">(</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">,</span><span class="pln">checksave</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> validateCredentials</span><span class="pun">(</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">,</span><span class="pln">checksave</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	dbQuery</span><span class="pun">(</span><span class="pln">loginCallback</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">client</span><span class="pun">,</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">},</span><span class="pln"> mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM `accounts` WHERE `username`='"</span><span class="pun">..</span><span class="pln"> username </span><span class="pun">..</span><span class="str">"'"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"accounts:login:attempt"</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:login:attempt"</span><span class="pun">,</span><span class="pln">getRootElement</span><span class="pun">(),</span><span class="pln">playerLogin</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> loginCallback</span><span class="pun">(</span><span class="pln">queryHandler</span><span class="pun">,</span><span class="pln">source</span><span class="pun">,</span><span class="pln">username</span><span class="pun">,</span><span class="pln">password</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> result</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">queryHandler</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		row </span><span class="pun">=</span><span class="pln"> result</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln">

		</span><span class="kwd">local</span><span class="pln"> encryptionRule </span><span class="pun">=</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"salt"</span><span class="pun">]</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> encryptedPW </span><span class="pun">=</span><span class="pln"> string</span><span class="pun">.</span><span class="pln">lower</span><span class="pun">(</span><span class="pln">md5</span><span class="pun">(</span><span class="pln">password</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"password"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">~=</span><span class="pln"> encryptedPW </span><span class="kwd">then</span><span class="pln">
			exports</span><span class="pun">.</span><span class="pln">un_notification</span><span class="pun">:</span><span class="pln">create</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="str">"Kullanıcı adı için şifreler eşleşmiyor!"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"error"</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">return</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">

		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onlineForPlayer</span><span class="pun">[</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">]])</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			thePlayer </span><span class="pun">=</span><span class="pln"> onlineForPlayer</span><span class="pun">[</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">])]</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thePlayer </span><span class="pun">~=</span><span class="pln"> source</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				kickPlayer</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Bir kullanıcı hesabınıza giriş yaptı!"</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
		onlineForPlayer</span><span class="pun">[</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">])]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> source
		dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"UPDATE accounts SET online='1' WHERE id = ?"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">]))</span><span class="pln">
		
		
		triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"items:inventory:hideinv"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
		
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:loggedin"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> acID </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'id'</span><span class="pun">])</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"username"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:charLimit"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"characterlimit"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"electionsvoted"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"electionsvoted"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:email"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"email"</span><span class="pun">])</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:creationdate"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"registerdate"</span><span class="pun">])</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:email"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"email"</span><span class="pun">])</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"credits"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"credits"</span><span class="pun">]))</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"admin_level"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'admin'</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"supporter_level"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'supporter'</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"vct_level"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'vct'</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"mapper_level"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'mapper'</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"scripter_level"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'scripter'</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bakiye"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"bakiye"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"uyk"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"uyk"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> tablolar </span><span class="pun">=</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"custom_animations"</span><span class="pun">]</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> type</span><span class="pun">(</span><span class="pln">fromJSON</span><span class="pun">(</span><span class="pln">tablolar</span><span class="pun">))</span><span class="pln"> </span><span class="pun">~=</span><span class="pln"> </span><span class="str">"table"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln"> tablolar </span><span class="pun">=</span><span class="pln"> toJSON </span><span class="pun">(</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="kwd">end</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> animler </span><span class="pun">=</span><span class="pln"> fromJSON</span><span class="pun">(</span><span class="pln">tablolar </span><span class="kwd">or</span><span class="pln"> toJSON </span><span class="pun">(</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">))</span><span class="pln">
        table</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">animler</span><span class="pun">,</span><span class="pln"> block</span><span class="pun">)</span><span class="pln">
        setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"custom_animations"</span><span class="pun">,</span><span class="pln"> animler</span><span class="pun">)</span><span class="pln">
		exports</span><span class="pun">[</span><span class="str">'un_reports'</span><span class="pun">]:</span><span class="pln">reportLazyFix</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"adminreports"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"adminreports"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"adminreports_saved"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"adminreports_saved"</span><span class="pun">]))</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'referrer'</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'referrer'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"referrer"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">'referrer'</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
		
		</span><span class="kwd">if</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_integration</span><span class="pun">:</span><span class="pln">isPlayerLeadAdmin</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hiddenadmin"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"hiddenadmin"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hiddenadmin"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">

		</span><span class="kwd">local</span><span class="pln"> vehicleConsultationTeam </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_integration</span><span class="pun">:</span><span class="pln">isPlayerVehicleConsultant</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"vehicleConsultationTeam"</span><span class="pun">,</span><span class="pln"> vehicleConsultationTeam</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">

		</span><span class="kwd">if</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"adminjail"</span><span class="pun">])</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"adminjailed"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"adminjailed"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailtime"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"adminjail_time"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailadmin"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"adminjail_by"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailreason"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"adminjail_reason"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">

		</span><span class="kwd">if</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"monitored"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">~=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"admin:monitor"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"monitored"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">

		dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"UPDATE `accounts` SET `ip`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> getPlayerIP</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `mtaserial`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> getPlayerSerial</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"' WHERE `id`='"</span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">])</span><span class="pln"> </span><span class="pun">..</span><span class="str">"'"</span><span class="pun">)</span><span class="pln">
		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailreason"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"adminjail_reason"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">

		setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"forum_name"</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"forum_name"</span><span class="pun">])</span><span class="pln">

		</span><span class="com">-- Militan</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"job_level:"</span><span class="pun">..</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"jlevel_"</span><span class="pun">..</span><span class="pln">i</span><span class="pun">])</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">

		loadAccountSettings</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">])</span><span class="pln">

	
		triggerClientEvent </span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="str">"hideLoginWindow"</span><span class="pun">,</span><span class="pln">source</span><span class="pun">)</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"vehicle_rims"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> characters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
		dbQuery</span><span class="pun">(</span><span class="pln">
			</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">cked </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							</span><span class="kwd">local</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="pun">#</span><span class="pln">characters </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
							</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
								characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">id
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">charactername
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">value</span><span class="pun">.</span><span class="pln">cked</span><span class="pun">)</span><span class="pln">
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pln">
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">age
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">gender
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">skin
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">height
							characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">weight
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
				setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:characters"</span><span class="pun">,</span><span class="pln"> characters</span><span class="pun">)</span><span class="pln">
				triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:login:attempt"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
				triggerEvent</span><span class="pun">(</span><span class="pln"> </span><span class="str">"social:un_account"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln"> row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">source</span><span class="pun">},</span><span class="pln"> mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM characters WHERE account = ?"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">row</span><span class="pun">[</span><span class="str">"id"</span><span class="pun">]))</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="str">"set_warning_text"</span><span class="pun">,</span><span class="pln">source</span><span class="pun">,</span><span class="str">"Login"</span><span class="pun">,</span><span class="str">"Kullanıcı adı veritabanında bulunamadı! ('"</span><span class="pun">..</span><span class="pln"> username </span><span class="pun">..</span><span class="str">"')"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

addEventHandler</span><span class="pun">(</span><span class="str">"onPlayerQuit"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln">
	</span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
		onlineForPlayer</span><span class="pun">[</span><span class="pln">getElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
		dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"UPDATE accounts SET online='0' WHERE id = ?"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">getElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">)))</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> myCallback</span><span class="pun">(</span><span class="pln"> responseData</span><span class="pun">,</span><span class="pln"> errno</span><span class="pun">,</span><span class="pln"> id </span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> errno </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
        exports</span><span class="pun">.</span><span class="pln">un_cache</span><span class="pun">:</span><span class="pln">addImage</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> responseData</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

addEventHandler</span><span class="pun">(</span><span class="str">"onResourceStart"</span><span class="pun">,</span><span class="pln"> resourceRoot</span><span class="pun">,</span><span class="pln">
	</span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
		imported_accounts </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
		imported_characters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
		dbQuery</span><span class="pun">(</span><span class="pln">
			</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
						row_info </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
						</span><span class="kwd">for</span><span class="pln"> count</span><span class="pun">,</span><span class="pln"> data </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
							row_info</span><span class="pun">[</span><span class="pln">count</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> data
						</span><span class="kwd">end</span><span class="pln">
						imported_accounts</span><span class="pun">[#</span><span class="pln">imported_accounts </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> row_info
					</span><span class="kwd">end</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
		mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM `accounts`"</span><span class="pun">)</span><span class="pln">
		dbQuery</span><span class="pun">(</span><span class="pln">
			</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
						row_info </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
						</span><span class="kwd">for</span><span class="pln"> count</span><span class="pun">,</span><span class="pln"> data </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
							row_info</span><span class="pun">[</span><span class="pln">count</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> data
						</span><span class="kwd">end</span><span class="pln">
						imported_characters</span><span class="pun">[#</span><span class="pln">imported_characters </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> row_info
					</span><span class="kwd">end</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
		mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM `characters`"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> updateTables</span><span class="pun">()</span><span class="pln">
	imported_accounts</span><span class="pun">,</span><span class="pln"> imported_characters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{},</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
	dbQuery</span><span class="pun">(</span><span class="pln">
		</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
					row_info </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
					</span><span class="kwd">for</span><span class="pln"> count</span><span class="pun">,</span><span class="pln"> data </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
						row_info</span><span class="pun">[</span><span class="pln">count</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> data
					</span><span class="kwd">end</span><span class="pln">
					imported_accounts</span><span class="pun">[#</span><span class="pln">imported_accounts </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> row_info
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
	mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM `accounts`"</span><span class="pun">)</span><span class="pln">
	dbQuery</span><span class="pun">(</span><span class="pln">
		</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
					row_info </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
					</span><span class="kwd">for</span><span class="pln"> count</span><span class="pun">,</span><span class="pln"> data </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
						row_info</span><span class="pun">[</span><span class="pln">count</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> data
					</span><span class="kwd">end</span><span class="pln">
					imported_characters</span><span class="pun">[#</span><span class="pln">imported_characters </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> row_info
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
	mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM `characters`"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> getTableInformations</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> imported_accounts</span><span class="pun">,</span><span class="pln"> imported_characters
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> characterList</span><span class="pun">(</span><span class="pln">theClient</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> theClient </span><span class="kwd">then</span><span class="pln"> 
	</span><span class="kwd">local</span><span class="pln"> dbid </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">theClient</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> accounts</span><span class="pun">,</span><span class="pln"> character </span><span class="pun">=</span><span class="pln"> getTableInformations</span><span class="pun">()</span><span class="pln"> </span><span class="com">-- // Hypnos</span><span class="pln">

	</span><span class="kwd">local</span><span class="pln"> characters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">character</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">account </span><span class="pun">==</span><span class="pln"> dbid </span><span class="kwd">and</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">cked </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="pun">#</span><span class="pln">characters </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">id
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">charactername
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">value</span><span class="pun">.</span><span class="pln">cked</span><span class="pun">)</span><span class="pln">
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pln">
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">age
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">gender
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">skin
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">height
			characters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">weight
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> characters
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">


</span><span class="kwd">function</span><span class="pln"> reloadCharacters</span><span class="pun">()</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> source </span><span class="kwd">then</span><span class="pln"> 
	</span><span class="kwd">local</span><span class="pln"> chars </span><span class="pun">=</span><span class="pln"> characterList</span><span class="pun">(</span><span class="pln">source</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:characters"</span><span class="pun">,</span><span class="pln"> chars</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"updateCharacters"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"updateCharacters"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> reloadCharacters</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> reconnectMe</span><span class="pun">()</span><span class="pln">
    redirectPlayer</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"accounts:reconnectMe"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:reconnectMe"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> reconnectMe</span><span class="pun">)</span><span class="pln">
 

</span><span class="kwd">function</span><span class="pln"> adminLoginToPlayerCharacter</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="pln"> commandName</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_integration</span><span class="pun">:</span><span class="pln">isPlayerSeniorAdmin</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="pun">(...)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            outputChatBox</span><span class="pun">(</span><span class="str">"KULLANIM: /"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> commandName </span><span class="pun">..</span><span class="pln"> </span><span class="str">" [Tam karakter adı]"</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">14</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
            outputChatBox</span><span class="pun">(</span><span class="str">"Oyuncunun karakterine ait loglar görüntüleniyor."</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">
            targetChar </span><span class="pun">=</span><span class="pln"> table</span><span class="pun">.</span><span class="pln">concat</span><span class="pun">({...},</span><span class="pln"> </span><span class="str">"_"</span><span class="pun">)</span><span class="pln">
            dbQuery</span><span class="pun">(</span><span class="pln">loginCharacterAdminCallback</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="pln"> targetChar</span><span class="pun">},</span><span class="pln"> mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT `characters`.`id` AS `targetCharID` , `characters`.`account` AS `targetUserID` , `accounts`.`admin` AS `targetAdminLevel`, `accounts`.`username` AS `targetUsername` FROM `characters` LEFT JOIN `accounts` ON `characters`.`account`=`accounts`.`id` WHERE `charactername`='"</span><span class="pun">..</span><span class="pln">targetChar</span><span class="pun">..</span><span class="str">"' LIMIT 1"</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addCommandHandler</span><span class="pun">(</span><span class="str">"loginto"</span><span class="pun">,</span><span class="pln"> adminLoginToPlayerCharacter</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
 
</span><span class="kwd">function</span><span class="pln"> loginCharacterAdminCallback</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> fetchData </span><span class="pun">=</span><span class="pln"> res</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> targetCharID </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">fetchData</span><span class="pun">[</span><span class="str">"targetCharID"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> targetUserID </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">fetchData</span><span class="pun">[</span><span class="str">"targetUserID"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> targetAdminLevel </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">fetchData</span><span class="pun">[</span><span class="str">"targetAdminLevel"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> targetUsername </span><span class="pun">=</span><span class="pln"> fetchData</span><span class="pun">[</span><span class="str">"targetUsername"</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> theAdminPower </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">getPlayerAdminLevel</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> targetCharID </span><span class="kwd">and</span><span class="pln">  targetUserID </span><span class="kwd">then</span><span class="pln">
            </span><span class="kwd">local</span><span class="pln"> adminTitle </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">getPlayerFullIdentity</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> targetAdminLevel </span><span class="pun">&gt;</span><span class="pln"> theAdminPower </span><span class="kwd">then</span><span class="pln">
                </span><span class="kwd">local</span><span class="pln"> adminUsername </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">)</span><span class="pln">
                outputChatBox</span><span class="pun">(</span><span class="str">"Sizden daha yüksek yetkiye sahip kişinin karakterine giriş yapamazsın."</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">)</span><span class="pln">
                exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">sendMessageToAdmins</span><span class="pun">(</span><span class="str">"[GİRİŞ]: "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">adminTitle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">" yüksek yetkiye sahip bir yöneticinin karakterine girmeye çalıştı ("</span><span class="pun">..</span><span class="pln">targetUsername</span><span class="pun">..</span><span class="str">")."</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
            </span><span class="kwd">end</span><span class="pln">
           
            spawnCharacter</span><span class="pun">(</span><span class="pln">targetCharID</span><span class="pun">,</span><span class="pln"> targetUserID</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> targetUsername</span><span class="pun">)</span><span class="pln">  
            exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">sendMessageToAdmins</span><span class="pun">(</span><span class="str">"[GİRİŞ]: "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">adminTitle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">" hesabına giriş yaptı, '"</span><span class="pun">..</span><span class="pln">targetUsername</span><span class="pun">..</span><span class="str">"'."</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		outputChatBox</span><span class="pun">(</span><span class="str">"Karakter adı bulunamadı."</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

addEvent</span><span class="pun">(</span><span class="str">"account:charactersQuotaCheck"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"account:charactersQuotaCheck"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
        triggerClientEvent</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:charactersQuotaCheck"</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Onaylandı"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> spawnCharacter</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">,</span><span class="pln"> remoteAccountID</span><span class="pun">,</span><span class="pln"> theAdmin</span><span class="pun">,</span><span class="pln"> targetAccountName</span><span class="pun">,</span><span class="pln"> location</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> theAdmin </span><span class="kwd">then</span><span class="pln">
		client </span><span class="pun">=</span><span class="pln"> theAdmin
	</span><span class="kwd">end</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> client </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> characterID </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	characterID </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln">
	
	triggerEvent</span><span class="pun">(</span><span class="str">'setDrunkness'</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"alcohollevel"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">

	removeMasksAndBadges</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	
	setElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailserved"</span><span class="pun">)</span><span class="pln">
	setElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailtime"</span><span class="pun">)</span><span class="pln">
	setElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailtimer"</span><span class="pun">)</span><span class="pln">
	setElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailstation"</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loggedin"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
	
	</span><span class="kwd">local</span><span class="pln"> timer </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailtimer"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> isTimer</span><span class="pun">(</span><span class="pln">timer</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		killTimer</span><span class="pun">(</span><span class="pln">timer</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getPedOccupiedVehicle</span><span class="pun">(</span><span class="pln">client</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		removePedFromVehicle</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="com">-- End cleaning up</span><span class="pln">
	
	</span><span class="kwd">local</span><span class="pln"> accountID </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">))</span><span class="pln">
	
	</span><span class="kwd">local</span><span class="pln"> characterData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> theAdmin </span><span class="kwd">then</span><span class="pln">
		accountID </span><span class="pun">=</span><span class="pln"> remoteAccountID
		sqlQuery </span><span class="pun">=</span><span class="pln"> </span><span class="str">"SELECT * FROM `characters` LEFT JOIN `jobs` ON `characters`.`id` = `jobs`.`jobCharID` AND `characters`.`job` = `jobs`.`jobID` WHERE `id`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"' AND `account`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">accountID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"'"</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		sqlQuery </span><span class="pun">=</span><span class="pln"> </span><span class="str">"SELECT * FROM `characters` LEFT JOIN `jobs` ON `characters`.`id` = `jobs`.`jobCharID` AND `characters`.`job` = `jobs`.`jobID` WHERE `id`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"' AND `account`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">accountID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"' AND `cked`=0"</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	
	dbQuery</span><span class="pun">(</span><span class="pln">
		</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> characterID</span><span class="pun">,</span><span class="pln"> remoteAccountID</span><span class="pun">,</span><span class="pln"> theAdmin</span><span class="pun">,</span><span class="pln"> targetAccountName</span><span class="pun">,</span><span class="pln"> location</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				characterData </span><span class="pun">=</span><span class="pln"> res</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> characterData </span><span class="kwd">then</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"description"</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"look"</span><span class="pun">,</span><span class="pln"> fromJSON</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"description"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">{</span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"description"</span><span class="pun">],</span><span class="pln"> </span><span class="str">""</span><span class="pun">})</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"weight"</span><span class="pun">,</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"weight"</span><span class="pun">])</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"height"</span><span class="pun">,</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"height"</span><span class="pun">])</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"race"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"skincolor"</span><span class="pun">]))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"maxvehicles"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"maxvehicles"</span><span class="pun">]))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"maxinteriors"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"maxinteriors"</span><span class="pun">]))</span><span class="pln">
					</span><span class="com">--DATE OF BIRTH</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"age"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"age"</span><span class="pun">]))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"month"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"month"</span><span class="pun">]))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"day"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"day"</span><span class="pun">]))</span><span class="pln">
					
					</span><span class="com">-- LANGUAGES</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> lang1 </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"lang1"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> lang1skill </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"lang1skill"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> lang2 </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"lang2"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> lang2skill </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"lang2skill"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> lang3 </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"lang3"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> lang3skill </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"lang3skill"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> currentLanguage </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"currlang"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.current"</span><span class="pun">,</span><span class="pln"> currentLanguage</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
									
					</span><span class="kwd">if</span><span class="pln"> lang1 </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							lang1skill </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> lang2 </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							lang2skill </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> lang3 </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							lang3skill </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.lang1"</span><span class="pun">,</span><span class="pln"> lang1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.lang1skill"</span><span class="pun">,</span><span class="pln"> lang1skill</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.lang2"</span><span class="pun">,</span><span class="pln"> lang2</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.lang2skill"</span><span class="pun">,</span><span class="pln"> lang2skill</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.lang3"</span><span class="pun">,</span><span class="pln"> lang3</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"languages.lang3skill"</span><span class="pun">,</span><span class="pln"> lang3skill</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					</span><span class="com">-- END OF LANGUAGES</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"timeinserver"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"timeinserver"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:character:id"</span><span class="pun">,</span><span class="pln"> characterID</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"dbid"</span><span class="pun">,</span><span class="pln"> characterID</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- workaround</span><span class="pln">
					exports</span><span class="pun">[</span><span class="str">'un_items'</span><span class="pun">]:</span><span class="pln">loadItems</span><span class="pun">(</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loggedin"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					
					</span><span class="com">-- Check his name isn't in use by a squatter</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> playerWithNick </span><span class="pun">=</span><span class="pln"> getPlayerFromName</span><span class="pun">(</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"charactername"</span><span class="pun">]))</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">playerWithNick</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="pun">(</span><span class="pln">playerWithNick</span><span class="pun">~=</span><span class="pln">client</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> theAdmin </span><span class="kwd">then</span><span class="pln">
							</span><span class="kwd">local</span><span class="pln"> adminTitle </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">getPlayerAdminTitle</span><span class="pun">(</span><span class="pln">theAdmin</span><span class="pun">)</span><span class="pln">
							</span><span class="kwd">local</span><span class="pln"> adminUsername </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">theAdmin</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">)</span><span class="pln">
							kickPlayer</span><span class="pun">(</span><span class="pln">playerWithNick</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> adminTitle</span><span class="pun">..</span><span class="str">" "</span><span class="pun">..</span><span class="pln">adminUsername</span><span class="pun">..</span><span class="str">" has logged into your account."</span><span class="pun">)</span><span class="pln">
							outputChatBox</span><span class="pun">(</span><span class="str">""</span><span class="pun">..</span><span class="pln">targetAccountName</span><span class="pun">..</span><span class="str">" ("</span><span class="pun">..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"charactername"</span><span class="pun">]):</span><span class="pln">gsub</span><span class="pun">(</span><span class="str">"_"</span><span class="pun">,</span><span class="str">" "</span><span class="pun">)..</span><span class="str">") adlı hesap oyundan atıldı."</span><span class="pun">,</span><span class="pln"> theAdmin</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">else</span><span class="pln">
							kickPlayer</span><span class="pun">(</span><span class="pln">playerWithNick</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"Başkası senin karakterinde oturum açmış olabilir."</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bleeding"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					
					</span><span class="com">-- Set their name to the characters</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
					setPlayerName</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"charactername"</span><span class="pun">]))</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> pid </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"playerid"</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> fixedName </span><span class="pun">=</span><span class="pln"> string</span><span class="pun">.</span><span class="pln">gsub</span><span class="pun">(</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"charactername"</span><span class="pun">]),</span><span class="pln"> </span><span class="str">"_"</span><span class="pun">,</span><span class="pln"> </span><span class="str">" "</span><span class="pun">)</span><span class="pln">

					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					
					setPlayerNametagShowing</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementFrozen</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setPedGravity</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					
					</span><span class="kwd">local</span><span class="pln"> locationToSpawn </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> location </span><span class="kwd">then</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">x </span><span class="pun">=</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">y </span><span class="pun">=</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">z </span><span class="pun">=</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">rot </span><span class="pun">=</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">4</span><span class="pun">]</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">int </span><span class="pun">=</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">5</span><span class="pun">]</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">dim </span><span class="pun">=</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">6</span><span class="pun">]</span><span class="pln">
					</span><span class="kwd">else</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">x </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"x"</span><span class="pun">])</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">y </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"y"</span><span class="pun">])</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">z </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"z"</span><span class="pun">])</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">rot </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"rotation"</span><span class="pun">])</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">int </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"interior_id"</span><span class="pun">])</span><span class="pln">
						locationToSpawn</span><span class="pun">.</span><span class="pln">dim </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"dimension_id"</span><span class="pun">])</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					spawnPlayer</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">x </span><span class="pun">,</span><span class="pln">locationToSpawn</span><span class="pun">.</span><span class="pln">y </span><span class="pun">,</span><span class="pln">locationToSpawn</span><span class="pun">.</span><span class="pln">z </span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">rot</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"skin"</span><span class="pun">]))</span><span class="pln">
					setElementDimension</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">dim</span><span class="pun">)</span><span class="pln">
					setElementInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">int </span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">z</span><span class="pun">)</span><span class="pln">
					setCameraInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> locationToSpawn</span><span class="pun">.</span><span class="pln">int</span><span class="pun">)</span><span class="pln">
					

					exports</span><span class="pun">[</span><span class="str">"un_items"</span><span class="pun">]:</span><span class="pln">loadItems</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">

					setCameraTarget</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					setElementHealth</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"health"</span><span class="pun">]))</span><span class="pln">
					setPedArmor</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"armor"</span><span class="pun">]))</span><span class="pln">
					
					</span><span class="kwd">local</span><span class="pln"> teamElement </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">nil</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_id"</span><span class="pun">])~=</span><span class="lit">-1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						teamElement </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_pool</span><span class="pun">:</span><span class="pln">getElement</span><span class="pun">(</span><span class="str">'team'</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_id"</span><span class="pun">]))</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="pun">(</span><span class="pln">teamElement</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">       </span><span class="com">-- Facshun does not exist?</span><span class="pln">
							characterData</span><span class="pun">[</span><span class="str">"faction_id"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">-1</span><span class="pln">
							dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"UPDATE characters SET faction_id='-1', faction_rank='1' WHERE id='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"' LIMIT 1"</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> teamElement </span><span class="kwd">then</span><span class="pln">
						setPlayerTeam</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> teamElement</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">else</span><span class="pln">
						setPlayerTeam</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> getTeamFromName</span><span class="pun">(</span><span class="str">"Citizen"</span><span class="pun">))</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">

					
					</span><span class="kwd">local</span><span class="pln"> adminLevel </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"admin_level"</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> gmLevel </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:gmlevel"</span><span class="pun">)</span><span class="pln">
					exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">updateNametagColor</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
					</span><span class="com">-- ADMIN JAIL</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> jailed </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"adminjailed"</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> jailed_time </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailtime"</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> jailed_by </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailadmin"</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> jailed_reason </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailreason"</span><span class="pun">)</span><span class="pln">

					</span><span class="kwd">if</span><span class="pln"> location </span><span class="kwd">then</span><span class="pln">
							setElementPosition</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">3</span><span class="pun">])</span><span class="pln">
							setElementPosition</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> location</span><span class="pun">[</span><span class="lit">4</span><span class="pun">],</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> jailed </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> incVal </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"playerid"</span><span class="pun">)</span><span class="pln">
								
						setElementDimension</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">55000</span><span class="pun">+</span><span class="pln">incVal</span><span class="pun">)</span><span class="pln">
						setElementInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln">
						setCameraInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln">
						setElementPosition</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">263.821807</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77.848365</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1001.0390625</span><span class="pun">)</span><span class="pln">
						setPedRotation</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">267.438446</span><span class="pun">)</span><span class="pln">
												
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailserved"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"adminjailed"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailreason"</span><span class="pun">,</span><span class="pln"> jailed_reason</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailadmin"</span><span class="pun">,</span><span class="pln"> jailed_by</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						
						</span><span class="kwd">if</span><span class="pln"> jailed_time </span><span class="pun">~=</span><span class="pln"> </span><span class="lit">999</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailtimer"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
								setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailtime"</span><span class="pun">,</span><span class="pln"> jailed_time</span><span class="lit">+1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
								</span><span class="com">--exports['un_admins']:timerUnjailPlayer(client)</span><span class="pln">
								triggerEvent</span><span class="pun">(</span><span class="str">"admin:timerUnjailPlayer"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
						</span><span class="kwd">else</span><span class="pln">
							setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailtime"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Unlimited"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
							setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailtimer"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">

						
						setElementInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln">
						setCameraInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"faction"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_id"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"factionMenu"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> factionPerks </span><span class="pun">=</span><span class="pln"> type</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_perks"</span><span class="pun">])</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"string"</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> fromJSON</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_perks"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"factionPackages"</span><span class="pun">,</span><span class="pln"> factionPerks</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"factionrank"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_rank"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"factionphone"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_phone"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"factionleader"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_leader"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> factionPerks </span><span class="pun">=</span><span class="pln"> type</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_perms"</span><span class="pun">])</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"string"</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> fromJSON</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_perms"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"factionperms"</span><span class="pun">,</span><span class="pln"> factionPerms</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"businessprofit"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"muted"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">muted</span><span class="pun">))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"minutesPlayed"</span><span class="pun">,</span><span class="pln">  tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"minutesPlayed"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hoursplayed"</span><span class="pun">,</span><span class="pln">  tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"hoursplayed"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setPlayerAnnounceValue </span><span class="pun">(</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"score"</span><span class="pun">,</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"hoursplayed"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"alcohollevel"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"alcohollevel"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">setMoney</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"money"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">checkMoneyHacks</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"restrain"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"cuffed"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tazed"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"realinvehicle"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					
					</span><span class="kwd">local</span><span class="pln"> duty </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"duty"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"duty"</span><span class="pun">,</span><span class="pln"> duty</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					
					</span><span class="com">-- Job system - MAXIME</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"job"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"jobID"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jobLevel"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"jobLevel"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jobProgress"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"jobProgress"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					
					</span><span class="com">-- MAXIME JOB SYSTEM</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"job"</span><span class="pun">])</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"jobTruckingRuns"</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"job-system-trucker:truckruns"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"jobTruckingRuns"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
							dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"UPDATE `jobs` SET `jobTruckingRuns`='0' WHERE `jobCharID`='"</span><span class="pun">..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)..</span><span class="str">"' AND `jobID`='1' "</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
						triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="str">"restoreTruckerJob"</span><span class="pun">,</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					triggerEvent</span><span class="pun">(</span><span class="str">"restoreJob"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					</span><span class="com">--triggerClientEvent(client, "updateCollectionValue", client, tonumber(characterData["photos"]))</span><span class="pln">
					</span><span class="com">--------------------------------------------------------------------------</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.car"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"car_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.bike"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"bike_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.boat"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"boat_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.pilot"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"pilot_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.fish"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"fish_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.gun"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"gun_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"license.gun2"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"gun2_license"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bankmoney"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"bankmoney"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fingerprint"</span><span class="pun">,</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"fingerprint"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tag"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"tag"</span><span class="pun">]))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"blindfold"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"blindfold"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"gender"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"gender"</span><span class="pun">]))</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"deaglemode"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- Default to lethal</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"shotgunmode"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- Default to lethal</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"youtuber"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"youtuber"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"rplus"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"rplus"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"etiket"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"etiket"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"donator"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"donator"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"country"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"ulke"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hunger"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"hunger"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"thirst"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"thirst"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"level"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"level"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hoursaim"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"hoursaim"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"box"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"box"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"boxexp"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"boxexp"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"vipver"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> resource </span><span class="pun">=</span><span class="pln"> getResourceFromName</span><span class="pun">(</span><span class="str">"un_vip"</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> resource </span><span class="kwd">then</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> state </span><span class="pun">=</span><span class="pln"> getResourceState</span><span class="pun">(</span><span class="pln">resource</span><span class="pun">)</span><span class="pln">
                        </span><span class="kwd">if</span><span class="pln"> state </span><span class="pun">==</span><span class="pln"> </span><span class="str">"running"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
                                setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"vipver"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
                                exports</span><span class="pun">[</span><span class="str">'un_vip'</span><span class="pun">]:</span><span class="pln">loadVIP</span><span class="pun">(</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln">
                        </span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					exports</span><span class="pun">.</span><span class="pln">un_anticheat</span><span class="pun">:</span><span class="pln">changeProtectedElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fakename"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hapis_sure"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"hapis_sure"</span><span class="pun">]))</span><span class="pln">
                    setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hapis_sebep"</span><span class="pun">,</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"hapis_sebep"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"clothing:id"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"clothingid"</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="kwd">nil</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"restrainedobj"</span><span class="pun">])&gt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"restrainedObj"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"restrainedobj"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"restrainedby"</span><span class="pun">])&gt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"restrainedBy"</span><span class="pun">,</span><span class="pln">  tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"restrainedby"</span><span class="pun">]),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">

					takeAllWeapons</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getElementType</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'player'</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						triggerEvent</span><span class="pun">(</span><span class="str">"updateLocalGuns"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">71</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">72</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">74</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">76</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">78</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">78</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln">
					setPedStat</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">79</span><span class="pun">,</span><span class="pln"> </span><span class="lit">999</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- Strafeing fix</span><span class="pln">
					
					toggleAllControls</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
					triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"onClientPlayerWeaponCheck"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					setElementFrozen</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					
					
					</span><span class="com">-- Player is cuffed</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"cuffed"</span><span class="pun">])==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"sprint"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fire"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jump"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"next_weapon"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"previous_weapon"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accelerate"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"brake_reverse"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
						toggleControl</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"aim_weapon"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">            
					
					
					setPedFightingStyle</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"fightstyle"</span><span class="pun">]))</span><span class="pln">     
					triggerEvent</span><span class="pun">(</span><span class="str">"onCharacterLogin"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> charname</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_id"</span><span class="pun">]))</span><span class="pln">
					triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:characters:spawn"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> fixedName</span><span class="pun">,</span><span class="pln"> adminLevel</span><span class="pun">,</span><span class="pln"> gmLevel</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_id"</span><span class="pun">]),</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"faction_rank"</span><span class="pun">]))</span><span class="pln">
					triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"item:updateclient"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					
					
					</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> theAdmin </span><span class="kwd">then</span><span class="pln">
					</span><span class="com">--	dbExec(mysql:getConnection(), "UPDATE characters SET online='1', lastlogin=NOW() WHERE id='" .. characterID .. "'")</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> monitored </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"admin:monitor"</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> monitored </span><span class="kwd">then</span><span class="pln">
							</span><span class="kwd">if</span><span class="pln"> monitored </span><span class="pun">~=</span><span class="pln"> </span><span class="str">"New Player"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
								exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">sendMessageToAdmins</span><span class="pun">(</span><span class="str">"[MONITOR] "</span><span class="pun">..</span><span class="pln"> getPlayerName</span><span class="pun">(</span><span class="pln">client</span><span class="pun">):</span><span class="pln">gsub</span><span class="pun">(</span><span class="str">"_"</span><span class="pun">,</span><span class="pln"> </span><span class="str">" "</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="str">" ("</span><span class="pun">..</span><span class="pln">pid</span><span class="pun">..</span><span class="str">"): "</span><span class="pun">..</span><span class="pln">monitored</span><span class="pun">)</span><span class="pln">
								exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">sendMessageToSupporters</span><span class="pun">(</span><span class="str">"[MONITOR] "</span><span class="pun">..</span><span class="pln"> getPlayerName</span><span class="pun">(</span><span class="pln">client</span><span class="pun">):</span><span class="pln">gsub</span><span class="pun">(</span><span class="str">"_"</span><span class="pun">,</span><span class="pln"> </span><span class="str">" "</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="str">" ("</span><span class="pun">..</span><span class="pln">pid</span><span class="pun">..</span><span class="str">"): "</span><span class="pun">..</span><span class="pln">monitored</span><span class="pun">)</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					
					setTimer</span><span class="pun">(</span><span class="pln">setPedGravity</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.008</span><span class="pun">)</span><span class="pln">
					setElementAlpha</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">)</span><span class="pln">
					
					</span><span class="com">-- WALKING STYLE</span><span class="pln">
					triggerEvent</span><span class="pun">(</span><span class="str">"realism:applyWalkingStyle"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> characterData</span><span class="pun">[</span><span class="str">"walkingstyle"</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">128</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">

					</span><span class="kwd">if</span><span class="pln"> duty </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> foundPackage </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
						</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">factionPerks</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
							</span><span class="kwd">if</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">duty</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
								foundPackage </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
									</span><span class="kwd">break</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
						
						</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> foundPackage </span><span class="kwd">then</span><span class="pln">
							triggerEvent</span><span class="pun">(</span><span class="str">"duty:offduty"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
							outputChatBox</span><span class="pun">(</span><span class="str">"Artık kullandığınız göreve erişiminiz yok - bu nedenle, kaldırıldı."</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					triggerEvent</span><span class="pun">(</span><span class="str">"social:character"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					
					</span><span class="kwd">if</span><span class="pln"> theAdmin </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> adminTitle </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">getPlayerAdminTitle</span><span class="pun">(</span><span class="pln">theAdmin</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> adminUsername </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">theAdmin</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">)</span><span class="pln">
						outputChatBox</span><span class="pun">(</span><span class="str">"You've logged into player's character successfully!"</span><span class="pun">,</span><span class="pln"> theAdmin</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> hiddenAdmin </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">theAdmin</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hiddenadmin"</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> hiddenAdmin </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">sendMessageToAdmins</span><span class="pun">(</span><span class="str">"AdmKmt: "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> tostring</span><span class="pun">(</span><span class="pln">adminTitle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">" "</span><span class="pun">..</span><span class="pln">adminUsername</span><span class="pun">..</span><span class="str">" başka bir hesaba girdi, ("</span><span class="pun">..</span><span class="pln">targetAccountName</span><span class="pun">..</span><span class="str">") "</span><span class="pun">..</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"charactername"</span><span class="pun">]):</span><span class="pln">gsub</span><span class="pun">(</span><span class="str">"_"</span><span class="pun">,</span><span class="str">" "</span><span class="pun">)..</span><span class="str">"."</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
					

					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"blindfold"</span><span class="pun">])==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"blindfold"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
						outputChatBox</span><span class="pun">(</span><span class="str">"Karakterinin gözü kapalı. eğer bu OCC bir eylem ise, F2 tuşunu kullanarak yönetici ile iletişime geç."</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">15</span><span class="pun">)</span><span class="pln">
						fadeCamera</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">else</span><span class="pln">
						fadeCamera</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">

					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tonumber</span><span class="pun">(</span><span class="pln">characterData</span><span class="pun">[</span><span class="str">"cuffed"</span><span class="pun">])==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						outputChatBox</span><span class="pun">(</span><span class="str">"Karakterin sınırlandırılmış."</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">

					loadCharacterSettings</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln">characterID</span><span class="pun">)</span><span class="pln">
					
					triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drawAllMyInteriorBlips"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">

					triggerEvent</span><span class="pun">(</span><span class="str">"playerGetMotds"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
					triggerEvent</span><span class="pun">(</span><span class="pln"> </span><span class="str">"accounts:character:select"</span><span class="pun">,</span><span class="pln"> client </span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> characterID</span><span class="pun">,</span><span class="pln"> remoteAccountID</span><span class="pun">,</span><span class="pln"> theAdmin</span><span class="pun">,</span><span class="pln"> targetAccountName</span><span class="pun">,</span><span class="pln"> location</span><span class="pun">},</span><span class="pln"> mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> sqlQuery</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:characters:spawn"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> spawnCharacter</span><span class="pun">)</span><span class="pln">
 
</span><span class="kwd">function</span><span class="pln"> Characters_onCharacterChange</span><span class="pun">()</span><span class="pln">
	triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"items:inventory:hideinv"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
	triggerEvent</span><span class="pun">(</span><span class="str">"savePlayer"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Change Character"</span><span class="pun">)</span><span class="pln">
	triggerEvent</span><span class="pun">(</span><span class="str">'setDrunkness'</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"alcohollevel"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"clothing:id"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">nil</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
	removeMasksAndBadges</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailserved"</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailtime"</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailtimer"</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pd.jailstation"</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loggedin"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bankmoney"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:character:id"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
	setElementAlpha</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	removeElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jailed"</span><span class="pun">)</span><span class="pln">
	removeElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jail_time"</span><span class="pun">)</span><span class="pln">
	removeElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jail:id"</span><span class="pun">)</span><span class="pln">
	removeElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"jail:cell"</span><span class="pun">)</span><span class="pln"> 
	removeElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"enableGunAttach"</span><span class="pun">)</span><span class="pln">
	triggerEvent</span><span class="pun">(</span><span class="str">"destroyWepObjects"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getPedOccupiedVehicle</span><span class="pun">(</span><span class="pln">client</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			removePedFromVehicle</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">updateNametagColor</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> clientAccountID </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">-1</span><span class="pln">
	setElementInterior</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	setElementDimension</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
	setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"legitnamechange"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
	triggerEvent</span><span class="pun">(</span><span class="str">"shop:removeMeFromCurrentShopUser"</span><span class="pun">,</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
	triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hideGeneralshopUI"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> padId </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"padUsing"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> padId </span><span class="kwd">then</span><span class="pln">
		removeElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"padUsing"</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> thePad </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"object"</span><span class="pun">,</span><span class="pln"> getResourceRootElement</span><span class="pun">(</span><span class="pln">getResourceFromName</span><span class="pun">(</span><span class="str">"un_item-world"</span><span class="pun">))))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">thePad</span><span class="pun">,</span><span class="pln"> </span><span class="str">"id"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> padId </span><span class="kwd">then</span><span class="pln">
				removeElementData</span><span class="pun">(</span><span class="pln">thePad</span><span class="pun">,</span><span class="pln"> </span><span class="str">"playerUsing"</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">break</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	triggerEvent</span><span class="pun">(</span><span class="str">"accounts:character:select"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:characters:change"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> Characters_onCharacterChange</span><span class="pun">)</span><span class="pln">
 
</span><span class="kwd">function</span><span class="pln"> removeMasksAndBadges</span><span class="pun">(</span><span class="pln">client</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> k</span><span class="pun">,</span><span class="pln"> v </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">({</span><span class="pln">exports</span><span class="pun">[</span><span class="str">'un_items'</span><span class="pun">]:</span><span class="pln">getMasks</span><span class="pun">(),</span><span class="pln"> exports</span><span class="pun">[</span><span class="str">'un_items'</span><span class="pun">]:</span><span class="pln">getBadges</span><span class="pun">()})</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> kx</span><span class="pun">,</span><span class="pln"> vx </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">v</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> vx</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
               setElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> vx</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">end</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">local</span><span class="pln"> playersToBeSaved </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> beginSave</span><span class="pun">()</span><span class="pln">
	outputDebugString</span><span class="pun">(</span><span class="str">"Yerdeki tum esyalar kaydedildi."</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"player"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="com">--triggerEvent("savePlayer", value, "Save All")</span><span class="pln">
		table</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">playersToBeSaved</span><span class="pun">,</span><span class="pln"> value</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> timerDelay </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> thePlayer </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">playersToBeSaved</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		timerDelay </span><span class="pun">=</span><span class="pln"> timerDelay </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1000</span><span class="pln">
		setTimer</span><span class="pun">(</span><span class="pln">savePlayer</span><span class="pun">,</span><span class="pln"> timerDelay</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Save All"</span><span class="pun">,</span><span class="pln"> thePlayer</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> syncTIS</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"player"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> tis </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> </span><span class="str">"timeinserver"</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tis</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getPlayerIdleTime</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">600000</span><span class="pun">)</span><span class="pln">  </span><span class="kwd">then</span><span class="pln">
			setElementData</span><span class="pun">(</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> </span><span class="str">"timeinserver"</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">tis</span><span class="pun">)</span><span class="lit">+1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
setTimer</span><span class="pun">(</span><span class="pln">syncTIS</span><span class="pun">,</span><span class="pln"> </span><span class="lit">60000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> savePlayer</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> source </span><span class="pun">~=</span><span class="pln"> </span><span class="kwd">nil</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		player </span><span class="pun">=</span><span class="pln"> source
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> logged </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"loggedin"</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">logged</span><span class="pun">==</span><span class="lit">1</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> reason</span><span class="pun">==</span><span class="str">"Change Character"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> vehicle </span><span class="pun">=</span><span class="pln"> getPedOccupiedVehicle</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
		
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> seat </span><span class="pun">=</span><span class="pln"> getPedOccupiedVehicleSeat</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
				triggerEvent</span><span class="pun">(</span><span class="str">"onVehicleExit"</span><span class="pun">,</span><span class="pln"> vehicle</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> seat</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		
			</span><span class="kwd">local</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">,</span><span class="pln"> rot</span><span class="pun">,</span><span class="pln"> health</span><span class="pun">,</span><span class="pln"> armour</span><span class="pun">,</span><span class="pln"> interior</span><span class="pun">,</span><span class="pln"> dimension</span><span class="pun">,</span><span class="pln"> cuffed</span><span class="pun">,</span><span class="pln"> skin</span><span class="pun">,</span><span class="pln"> duty</span><span class="pun">,</span><span class="pln"> timeinserver</span><span class="pun">,</span><span class="pln"> businessprofit</span><span class="pun">,</span><span class="pln"> alcohollevel
		
			</span><span class="kwd">local</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z </span><span class="pun">=</span><span class="pln"> getElementPosition</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> rot </span><span class="pun">=</span><span class="pln"> getPedRotation</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> health </span><span class="pun">=</span><span class="pln"> getElementHealth</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> armor </span><span class="pun">=</span><span class="pln"> getPedArmor</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> interior </span><span class="pun">=</span><span class="pln"> getElementInterior</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> dimension </span><span class="pun">=</span><span class="pln"> getElementDimension</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> alcohollevel </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"alcohollevel"</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> d_addiction </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.1"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.2"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.3"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.4"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.5"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.6"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.7"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.8"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.9"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">";"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"drug.10"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
			money </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"stevie.money"</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> money </span><span class="kwd">and</span><span class="pln"> money </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			money </span><span class="pun">=</span><span class="pln"> </span><span class="str">'money = money + '</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> money </span><span class="pun">..</span><span class="pln"> </span><span class="str">', '</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln">
				money </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
			skin </span><span class="pun">=</span><span class="pln"> getElementModel</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
		
			</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"help"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				dimension</span><span class="pun">,</span><span class="pln"> interior</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z </span><span class="pun">=</span><span class="pln"> unpack</span><span class="pun">(</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"help"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		
			</span><span class="com">-- Fix for #0000984</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"businessprofit"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> reason </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Quit"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> reason </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Timed Out"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> reason </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Unknown"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> reason </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Bad Connection"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> reason </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Kicked"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> reason </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Banned"</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				businessprofit </span><span class="pun">=</span><span class="pln"> </span><span class="str">'bankmoney = bankmoney + '</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"businessprofit"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">', '</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln">
				businessprofit </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		
			</span><span class="com">-- Fix for freecam-tv</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> exports</span><span class="pun">[</span><span class="str">'un_freecam'</span><span class="pun">]:</span><span class="pln">isPlayerFreecamEnabled</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln"> 
				x </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tv:x"</span><span class="pun">)</span><span class="pln">
				y </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tv:y"</span><span class="pun">)</span><span class="pln">
				z </span><span class="pun">=</span><span class="pln">  getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tv:z"</span><span class="pun">)</span><span class="pln">
				interior </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tv:int"</span><span class="pun">)</span><span class="pln">
				dimension </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tv:dim"</span><span class="pun">)</span><span class="pln"> 
			</span><span class="kwd">end</span><span class="pln">
		
			</span><span class="kwd">local</span><span class="pln">  timeinserver </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"timeinserver"</span><span class="pun">)</span><span class="pln">
			</span><span class="com">-- LAST AREA</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> zone </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">getElementZoneName</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> zone </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">#</span><span class="pln">zone </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				zone </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Unknown"</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> hunger </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hunger"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">100</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> thirst </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"thirst"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">100</span><span class="pln">
			
			</span><span class="kwd">local</span><span class="pln"> _</span><span class="pun">,</span><span class="pln"> characters_temp </span><span class="pun">=</span><span class="pln"> getTableInformations</span><span class="pun">()</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">characters_temp</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> value</span><span class="pun">.</span><span class="pln">id </span><span class="pun">==</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"dbid"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					table</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">(</span><span class="pln">characters_temp</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
			dbQuery</span><span class="pun">(</span><span class="pln">
				</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
						</span><span class="kwd">for</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> value </span><span class="kwd">in</span><span class="pln"> ipairs</span><span class="pun">(</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
							row_info </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
							</span><span class="kwd">for</span><span class="pln"> count</span><span class="pun">,</span><span class="pln"> data </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
								row_info</span><span class="pun">[</span><span class="pln">count</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> data
							</span><span class="kwd">end</span><span class="pln">
							imported_characters</span><span class="pun">[#</span><span class="pln">imported_characters </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> row_info
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pln">
				</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
			mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT * FROM `characters` WHERE `id` = ?"</span><span class="pun">,</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"dbid"</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onPlayerQuit"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> savePlayer</span><span class="pun">)</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"savePlayer"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"savePlayer"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> savePlayer</span><span class="pun">)</span><span class="pln">
setTimer</span><span class="pun">(</span><span class="pln">beginSave</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3600000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
addCommandHandler</span><span class="pun">(</span><span class="str">"saveall"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_integration</span><span class="pun">:</span><span class="pln">isPlayerSeniorAdmin</span><span class="pun">(</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln"> beginSave</span><span class="pun">()</span><span class="pln"> outputChatBox</span><span class="pun">(</span><span class="str">"Başarıyla kayıt alındı."</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">end</span><span class="pln"> </span><span class="kwd">end</span><span class="pun">)</span><span class="pln">
addCommandHandler</span><span class="pun">(</span><span class="str">"saveme"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> triggerEvent</span><span class="pun">(</span><span class="str">"savePlayer"</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Save Me"</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">end</span><span class="pun">)</span><span class="pln">

addEvent</span><span class="pun">(</span><span class="str">"checkAlreadyUsingName"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"checkAlreadyUsingName"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln">
	</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">)</span><span class="pln">
		dbQuery</span><span class="pun">(</span><span class="pln">
			</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				    a </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
					triggerClientEvent</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"receiveNameRegisterable"</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">else</span><span class="pln">
					a </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
					triggerClientEvent</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"receiveNameRegisterable"</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
			</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
		mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT charactername FROM characters WHERE charactername='"</span><span class="pun">..</span><span class="pln">name</span><span class="pun">:</span><span class="pln">gsub</span><span class="pun">(</span><span class="str">" "</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_"</span><span class="pun">)..</span><span class="pln"> </span><span class="str">"'"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">local</span><span class="pln"> mysql </span><span class="pun">=</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_mysql

</span><span class="kwd">function</span><span class="pln"> newCharacter_create</span><span class="pun">(</span><span class="pln">characterName_</span><span class="pun">,</span><span class="pln"> characterDescription_</span><span class="pun">,</span><span class="pln"> race_</span><span class="pun">,</span><span class="pln"> gender_</span><span class="pun">,</span><span class="pln"> skin_</span><span class="pun">,</span><span class="pln"> height_</span><span class="pun">,</span><span class="pln"> weight_</span><span class="pun">,</span><span class="pln"> age_</span><span class="pun">,</span><span class="pln"> languageselectun_</span><span class="pun">,</span><span class="pln"> month_</span><span class="pun">,</span><span class="pln"> day_</span><span class="pun">,</span><span class="pln"> location_</span><span class="pun">)</span><span class="pln">
	characterName</span><span class="pun">,</span><span class="pln"> characterDescription</span><span class="pun">,</span><span class="pln"> race</span><span class="pun">,</span><span class="pln"> gender</span><span class="pun">,</span><span class="pln"> skin</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> weight</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> languageselected</span><span class="pun">,</span><span class="pln"> month</span><span class="pun">,</span><span class="pln"> day</span><span class="pun">,</span><span class="pln"> location </span><span class="pun">=</span><span class="pln"> characterName_</span><span class="pun">,</span><span class="pln"> characterDescription_</span><span class="pun">,</span><span class="pln"> race_</span><span class="pun">,</span><span class="pln"> gender_</span><span class="pun">,</span><span class="pln"> skin_</span><span class="pun">,</span><span class="pln"> height_</span><span class="pun">,</span><span class="pln"> weight_</span><span class="pun">,</span><span class="pln"> age_</span><span class="pun">,</span><span class="pln"> languageselectun_</span><span class="pun">,</span><span class="pln"> month_</span><span class="pun">,</span><span class="pln"> day_</span><span class="pun">,</span><span class="pln"> location_

	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="pun">(</span><span class="pln">race </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">-1</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> race </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:characters:new"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- State 1:2: error validating data</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gender </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> gender </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:characters:new"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="com">-- State 1:3: error validating data</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	
	characterName </span><span class="pun">=</span><span class="pln"> string</span><span class="pun">.</span><span class="pln">gsub</span><span class="pun">(</span><span class="pln">tostring</span><span class="pun">(</span><span class="pln">characterName</span><span class="pun">),</span><span class="pln"> </span><span class="str">" "</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_"</span><span class="pun">)</span><span class="pln">
	
	dbQuery</span><span class="pun">(</span><span class="pln">
		</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> characterName</span><span class="pun">,</span><span class="pln"> race</span><span class="pun">,</span><span class="pln"> gender</span><span class="pun">,</span><span class="pln"> skin</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> weight</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> languageselected</span><span class="pun">,</span><span class="pln"> month</span><span class="pun">,</span><span class="pln"> day</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:characters:new"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> accountID </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:id"</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> accountUsername </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">)</span><span class="pln">
				</span><span class="kwd">local</span><span class="pln"> fingerprint </span><span class="pun">=</span><span class="pln"> md5</span><span class="pun">((</span><span class="pln">characterName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> accountID </span><span class="pun">..</span><span class="pln"> race </span><span class="pun">..</span><span class="pln"> gender </span><span class="pun">..</span><span class="pln"> age</span><span class="pun">)</span><span class="pln">
				
				</span><span class="kwd">if</span><span class="pln"> month </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Ocak"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					month </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
				
				</span><span class="kwd">local</span><span class="pln"> walkingstyle </span><span class="pun">=</span><span class="pln"> </span><span class="lit">128</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> gender </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
					walkingstyle </span><span class="pun">=</span><span class="pln"> </span><span class="lit">129</span><span class="pln">
				</span><span class="kwd">end</span><span class="pln">
				location </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="lit">396.83984375</span><span class="pun">,</span><span class="pln"> </span><span class="lit">-1531.484375</span><span class="pun">,</span><span class="pln"> </span><span class="lit">32.2734375</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="str">"IGS Yaninda bir otobüs durağı"</span><span class="pun">}</span><span class="pln">
				
				dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"INSERT INTO `characters` SET `charactername`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">characterName</span><span class="pun">)..</span><span class="pln"> </span><span class="str">"', `x`='"</span><span class="pun">..</span><span class="pln">location</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]..</span><span class="str">"', `y`='"</span><span class="pun">..</span><span class="pln">location</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]..</span><span class="str">"', `z`='"</span><span class="pun">..</span><span class="pln">location</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]..</span><span class="str">"', `rotation`='"</span><span class="pun">..</span><span class="pln">location</span><span class="pun">[</span><span class="lit">4</span><span class="pun">]..</span><span class="str">"', `interior_id`='"</span><span class="pun">..</span><span class="pln">location</span><span class="pun">[</span><span class="lit">5</span><span class="pun">]..</span><span class="str">"', `dimension_id`='"</span><span class="pun">..</span><span class="pln">location</span><span class="pun">[</span><span class="lit">6</span><span class="pun">]..</span><span class="str">"', `lastarea`='"</span><span class="pun">..(</span><span class="pln">location</span><span class="pun">[</span><span class="lit">7</span><span class="pun">])..</span><span class="str">"', `gender`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gender</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `skincolor`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">race</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `weight`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">weight</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `height`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `description`='', `account`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">accountID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `skin`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">skin</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `age`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">age</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `fingerprint`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">fingerprint</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `lang1`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">languageselected</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `lang1skill`='100', `currLang`='1' , `month`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">month </span><span class="kwd">or</span><span class="pln"> </span><span class="str">"1"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', `day`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">day </span><span class="kwd">or</span><span class="pln"> </span><span class="str">"1"</span><span class="pun">)..</span><span class="str">"', `walkingstyle`='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">walkingstyle</span><span class="pun">)..</span><span class="str">"'"</span><span class="pun">)</span><span class="pln">
	
				dbQuery</span><span class="pun">(</span><span class="pln">
					</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> characterName</span><span class="pun">,</span><span class="pln"> race</span><span class="pun">,</span><span class="pln"> gender</span><span class="pun">,</span><span class="pln"> skin</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> weight</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> languageselected</span><span class="pun">,</span><span class="pln"> month</span><span class="pun">,</span><span class="pln"> day</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">local</span><span class="pln"> res</span><span class="pun">,</span><span class="pln"> rows</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">=</span><span class="pln"> dbPoll</span><span class="pun">(</span><span class="pln">qh</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
						</span><span class="kwd">if</span><span class="pln"> rows </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
							</span><span class="kwd">local</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> res</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="str">'id'</span><span class="pun">]</span><span class="pln">
							exports</span><span class="pun">.</span><span class="pln">un_anticheat</span><span class="pun">:</span><span class="pln">changeProtectedElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"dbid"</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
							exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">giveItem</span><span class="pun">(</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">16</span><span class="pun">,</span><span class="pln"> skin </span><span class="pun">)</span><span class="pln">
							</span><span class="com">-- ID CARD</span><span class="pln">
							exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">giveItem</span><span class="pun">(</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">152</span><span class="pun">,</span><span class="pln"> characterName</span><span class="pun">..</span><span class="str">";"</span><span class="pun">..(</span><span class="pln">gender</span><span class="pun">==</span><span class="lit">0</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="str">"Bay"</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="str">"Bayan"</span><span class="pun">)..</span><span class="str">";"</span><span class="pun">..</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">formatDate</span><span class="pun">(</span><span class="pln">day </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)..</span><span class="str">" "</span><span class="pun">..</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">numberToMonth</span><span class="pun">(</span><span class="pln">month </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)..</span><span class="str">" "</span><span class="pun">..</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">getBirthYearFromAge</span><span class="pun">(</span><span class="pln">age</span><span class="pun">)..</span><span class="str">";"</span><span class="pun">..</span><span class="pln">fingerprint</span><span class="pun">)</span><span class="pln">		</span><span class="com">-- Briefcase</span><span class="pln">
							</span><span class="com">-- Briefcase</span><span class="pln">
							</span><span class="kwd">if</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_global</span><span class="pun">:</span><span class="pln">giveItem</span><span class="pun">(</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">160</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
								triggerEvent</span><span class="pun">(</span><span class="str">"artifacts:toggle"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"briefcase"</span><span class="pun">)</span><span class="pln">
							</span><span class="kwd">end</span><span class="pln">
					
							exports</span><span class="pun">.</span><span class="pln">un_anticheat</span><span class="pun">:</span><span class="pln">changeProtectedElementDataEx</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"dbid"</span><span class="pun">)</span><span class="pln">
							triggerClientEvent</span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:characters:new"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">id</span><span class="pun">))</span><span class="pln">
							
						</span><span class="kwd">end</span><span class="pln">
					</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> characterName</span><span class="pun">,</span><span class="pln"> race</span><span class="pun">,</span><span class="pln"> gender</span><span class="pun">,</span><span class="pln"> skin</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> weight</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> languageselected</span><span class="pun">,</span><span class="pln"> month</span><span class="pun">,</span><span class="pln"> day</span><span class="pun">},</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT id FROM characters WHERE id = LAST_INSERT_ID()"</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> characterName</span><span class="pun">,</span><span class="pln"> race</span><span class="pun">,</span><span class="pln"> gender</span><span class="pun">,</span><span class="pln"> skin</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> weight</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> languageselected</span><span class="pun">,</span><span class="pln"> month</span><span class="pun">,</span><span class="pln"> day</span><span class="pun">},</span><span class="pln"> exports</span><span class="pun">.</span><span class="pln">un_mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"SELECT charactername FROM characters WHERE charactername='"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="pun">(</span><span class="pln">characterName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"'"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"accounts:characters:new"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> newCharacter_create</span><span class="pun">)</span><span class="pln">


</span><span class="kwd">function</span><span class="pln"> emailDegistir</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> username </span><span class="pun">=</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"account:username"</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">string</span><span class="pun">.</span><span class="pln">len</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">)&lt;</span><span class="lit">6</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"email:GUIClose"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:error:window"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Geçersiz e-posta adresi."</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">elseif</span><span class="pln"> </span><span class="pun">(</span><span class="pln">string</span><span class="pun">.</span><span class="pln">len</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">)&gt;=</span><span class="lit">50</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"email:GUIClose"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:error:window"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Geçersiz e-posta adresi."</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">elseif</span><span class="pln"> </span><span class="pun">(</span><span class="pln">string</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">,</span><span class="pln"> </span><span class="str">";"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">(</span><span class="pln">string</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">,</span><span class="pln"> </span><span class="str">":"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">(</span><span class="pln">string</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">,</span><span class="pln"> </span><span class="str">"'"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="pun">(</span><span class="pln">string</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">eposta</span><span class="pun">,</span><span class="pln"> </span><span class="str">","</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"email:GUIClose"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:error:window"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Geçersiz e-posta adresi."</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> query </span><span class="pun">=</span><span class="pln"> dbExec</span><span class="pun">(</span><span class="pln">mysql</span><span class="pun">:</span><span class="pln">getConnection</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"UPDATE accounts SET email = '"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> eposta </span><span class="pun">..</span><span class="pln"> </span><span class="str">"', forceUpdate = 0 WHERE username = '"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> username </span><span class="pun">..</span><span class="pln"> </span><span class="str">"'"</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> query </span><span class="kwd">then</span><span class="pln">
			outputChatBox</span><span class="pun">(</span><span class="str">"#575757UNT:#f9f9f9 E-posta adresiniz başarıyla değiştirildi."</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"email:GUIClose"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			triggerClientEvent</span><span class="pun">(</span><span class="pln">source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"accounts:error:window"</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"MySQL bağlantı hatası. F2 yetkili raporu açın."</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"email:degistir"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"email:degistir"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> emailDegistir</span><span class="pun">)</span></pre>

<p>
	 
</p>
]]></description><guid isPermaLink="false">136990</guid><pubDate>Tue, 26 Jul 2022 23:46:20 +0000</pubDate></item><item><title>como fasso pra usar este script as vezes que eu quiser</title><link>https://forum.multitheftauto.com/topic/136976-como-fasso-pra-usar-este-script-as-vezes-que-eu-quiser/</link><description><![CDATA[<p>
	ola fiz este script <abbr title="Definitive Edition">de</abbr> plantação só que se eu plantar 2 plantas ao mesmo tempo ele fica todo bugado alguém  sabe como posso resolver?
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="pln">		    </span><span class="kwd">elseif</span><span class="pln"> itemID </span><span class="pun">==</span><span class="pln"> </span><span class="lit">13</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			takeItem</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> itemID</span><span class="pun">,</span><span class="pln"> quantidade</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z </span><span class="pun">=</span><span class="pln"> getElementPosition</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> vasocanabis </span><span class="pun">=</span><span class="pln"> createObject</span><span class="pun">(</span><span class="pln">thePlayer</span><span class="pun">,</span><span class="lit">2203</span><span class="pun">,</span><span class="pln"> x</span><span class="lit">+1</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="lit">-1</span><span class="pun">)</span><span class="pln">
			exports</span><span class="pun">.</span><span class="pln">danger_infobox</span><span class="pun">:</span><span class="pln">addBox</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="str">"success"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Voce plantou um Pé de canabis!"</span><span class="pun">)</span><span class="pln">
			markercolher </span><span class="pun">=</span><span class="pln"> createMarker </span><span class="pun">(</span><span class="pln"> x</span><span class="lit">+1</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="lit">-1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"cylinder"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">170</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
			setTimer</span><span class="pun">(</span><span class="pln">
		</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln">
			destroyElement</span><span class="pun">(</span><span class="pln">vasocanabis</span><span class="pun">)</span><span class="pln">
			canabispronta </span><span class="pun">=</span><span class="pln"> createObject</span><span class="pun">(</span><span class="lit">2010</span><span class="pun">,</span><span class="pln"> x</span><span class="lit">+1</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="lit">-1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
       </span><span class="kwd">end</span><span class="pln">
       </span><span class="pun">,</span><span class="lit">5000</span><span class="pun">,</span><span class="lit">1</span><span class="pln">
       </span><span class="pun">)</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> colher</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
		destroyElement</span><span class="pun">(</span><span class="pln">canabispronta</span><span class="pun">)</span><span class="pln">
		destroyElement</span><span class="pun">(</span><span class="pln">markercolher</span><span class="pun">)</span><span class="pln"> 
		exports</span><span class="pun">.</span><span class="pln">danger_infobox</span><span class="pun">:</span><span class="pln">addBox</span><span class="pun">(</span><span class="pln">player </span><span class="pun">,</span><span class="str">"info"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Voce colheu um pe de canabis!"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> key </span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">canabispronta</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
	bindKey </span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"e"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> colher</span><span class="pun">)</span><span class="pln">
		exports</span><span class="pun">.</span><span class="pln">danger_infobox</span><span class="pun">:</span><span class="pln">addBox</span><span class="pun">(</span><span class="pln">player </span><span class="pun">,</span><span class="str">"info"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Use telca E para colher!"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln"> 
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="pln"> </span><span class="str">"onMarkerHit"</span><span class="pun">,</span><span class="pln"> markercolher</span><span class="pun">,</span><span class="pln"> key</span><span class="pun">)</span></pre>

<p>
	 
</p>
]]></description><guid isPermaLink="false">136976</guid><pubDate>Tue, 26 Jul 2022 11:35:36 +0000</pubDate></item><item><title>D&#xFA;vida:anima&#xE7;&#xE3;o</title><link>https://forum.multitheftauto.com/topic/136955-d%C3%BAvidaanima%C3%A7%C3%A3o/</link><description><![CDATA[<p>
	Alguém sabe me dizer como posso usar a animação <span>sex_1_cum_p e sex_1_cum_w ? andei consultando a aba animations da wiki porém vi que não tinha lá, acredito que retiraram. A unica forma <abbr title="Definitive Edition">de</abbr> conseguir a animação agora seria recriando  ela? </span>
</p>
]]></description><guid isPermaLink="false">136955</guid><pubDate>Mon, 25 Jul 2022 22:29:18 +0000</pubDate></item><item><title>Nicks invisiveis em players</title><link>https://forum.multitheftauto.com/topic/122472-nicks-invisiveis-em-players/</link><description><![CDATA[<p>
	Tem ums carinhas que usam nome invisivel no meu servidor eu queria saber se existe algum resource que não permite que ele troque o nome pra #000000 ou #FFFFFF pra não ficar invisivel no tab
</p>

<p>
	 
</p>

<p>
	Tipo um mod pra não permitir que pessoas usem #000000 ou Qualquer cor sem uma letra no final
</p>

<p>
	 
</p>

<p>
	Obrigado a todos que me ajudarem com esse probleminha <img src="https://twemoji.maxcdn.com/2/72x72/2764.png" class="ipsEmoji" alt="❤️">
</p>
]]></description><guid isPermaLink="false">122472</guid><pubDate>Sat, 15 Feb 2020 12:47:07 +0000</pubDate></item><item><title>evento n&#xE3;o adicionado no client</title><link>https://forum.multitheftauto.com/topic/136166-evento-n%C3%A3o-adicionado-no-client/</link><description><![CDATA[<p>
	Tenho um mod para staff que faz o staff voar com um comando, porém eu reiniciei o servidor, não mexi no mod<br />
	após o server voltar o mod apresenta um erro indicando que o evento <abbr title="Definitive Edition">de</abbr> voar não esta adicionado no client<br />
	sendo que esta adicionado sim, alguém ajuda:<br />
	<img alt="spacer.png" class="ipsImage" data-ratio="51.78" height="305" style="height:auto;" width="589" data-src="https://media.discordapp.net/attachments/982437042682224650/983836355249442927/unknown.png" src="https://forum.multitheftauto.com/applications/core/interface/js/spacer.png" /><img alt="spacer.png" class="ipsImage" data-ratio="7.29" height="63" style="height:auto;" width="864" data-src="https://media.discordapp.net/attachments/982437042682224650/983836246105260163/unknown.png?width=864&amp;height=63" src="https://forum.multitheftauto.com/applications/core/interface/js/spacer.png" /><img alt="spacer.png" class="ipsImage" data-ratio="20.08" height="105" style="height:auto;" width="523" data-src="https://media.discordapp.net/attachments/982437042682224650/983835492900556870/unknown.png" src="https://forum.multitheftauto.com/applications/core/interface/js/spacer.png" /><br />
	<br />
	Primeira imagem é o client, a segunda é o Server e a terceira é o meta.xml a seguir o erro:<br />
	<img alt="spacer.png" class="ipsImage" data-ratio="4.17" height="36" style="height:auto;" width="864" data-src="https://media.discordapp.net/attachments/982437042682224650/983837349886705664/unknown.png?width=864&amp;height=36" src="https://forum.multitheftauto.com/applications/core/interface/js/spacer.png" />
</p>
]]></description><guid isPermaLink="false">136166</guid><pubDate>Tue, 07 Jun 2022 20:58:43 +0000</pubDate></item><item><title>Preciso de ajuda!</title><link>https://forum.multitheftauto.com/topic/136924-preciso-de-ajuda/</link><description><![CDATA[<p>
	<span>Boa noite! Eu queria saber como fazer um Teletrasnporte com Marker(Script) onde o jogador e o veículo se teletransportam juntos... pfv me ajudem</span>
</p>
]]></description><guid isPermaLink="false">136924</guid><pubDate>Sun, 24 Jul 2022 03:38:07 +0000</pubDate></item><item><title>Falha de motor.</title><link>https://forum.multitheftauto.com/topic/136907-falha-de-motor/</link><description><![CDATA[<p>
	<font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;">Então, estou com um script para falha </font></font></font></font><abbr title="Edição definitiva"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><abbr title="Definitive Edition">de</abbr></font></font></font></font></abbr><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"> motores, quanto mais o estado </font></font></font></font><abbr title="Edição definitiva"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><abbr title="Definitive Edition">de</abbr></font></font></font></font></abbr><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"> vida do veículo para decaindo ou motor falhar com mais frequência, porém eu queria que quando esse nível </font></font></font></font><abbr title="Edição definitiva"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><abbr title="Definitive Edition">de</abbr></font></font></font></font></abbr><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"> vida não ligasse mais. </font></font></font></font><br />
	 
</p>

<p>
	<font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;">Lado do cliente</font></font></font></font>
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">function</span><span class="pln"> vehiclefailures</span><span class="pun">()</span><span class="pln">
    failede </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> vehicle </span><span class="pun">=</span><span class="pln"> getPedOccupiedVehicle</span><span class="pun">(</span><span class="pln">localPlayer</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> vehicle </span><span class="kwd">and</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getVehicleType</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Automobile"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> getElementHealth</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">550</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		triggerServerEvent</span><span class="pun">(</span><span class="str">"Caroff"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> vehicle</span><span class="pun">)</span><span class="pln">
		setTimer </span><span class="pun">(</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
		triggerServerEvent</span><span class="pun">(</span><span class="str">"Caron"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> vehicle</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	  </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">

addEventHandler</span><span class="pun">(</span><span class="str">"onClientVehicleDamage"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> vehiclefailures</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onClientVehicleEnter"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> vehiclefailures</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> enginefailures</span><span class="pun">()</span><span class="pln">
</span><span class="kwd">local</span><span class="pln"> vehicle </span><span class="pun">=</span><span class="pln"> getPedOccupiedVehicle</span><span class="pun">(</span><span class="pln">localPlayer</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> vehicle </span><span class="kwd">and</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getVehicleType</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Automobile"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> getElementHealth</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">550</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> failede </span><span class="kwd">then</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">end</span><span class="pln">
setTimer</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> failede </span><span class="kwd">then</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">end</span><span class="pln">
        triggerServerEvent</span><span class="pun">(</span><span class="str">"failurex"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> vehicle</span><span class="pun">)</span><span class="pln">
		triggerServerEvent</span><span class="pun">(</span><span class="str">"Caroff"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> vehicle</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">local</span><span class="pln"> sound </span><span class="pun">=</span><span class="pln"> playSound</span><span class="pun">(</span><span class="str">"failure.wav"</span><span class="pun">)</span><span class="pln">
		setTimer </span><span class="pun">(</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
		triggerServerEvent</span><span class="pun">(</span><span class="str">"Caron"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> vehicle</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
		failede </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
		setTimer</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
		failede </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler </span><span class="pun">(</span><span class="pln"> </span><span class="str">"onClientPreRender"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> enginefailures </span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> enginesoundf</span><span class="pun">()</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> sounding </span><span class="kwd">then</span><span class="pln">
sound</span><span class="pun">=</span><span class="pln">playSound</span><span class="pun">(</span><span class="str">"failure.wav"</span><span class="pun">)</span><span class="pln">
setSoundVolume</span><span class="pun">(</span><span class="pln">sound</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.5</span><span class="pun">)</span><span class="pln">
setTimer </span><span class="pun">(</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln">
sounding </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="kwd">end</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent </span><span class="pun">(</span><span class="pln"> </span><span class="str">"failureclient"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
addEventHandler </span><span class="pun">(</span><span class="pln"> </span><span class="str">"failureclient"</span><span class="pun">,</span><span class="pln"> getRootElement </span><span class="pun">(</span><span class="pln"> </span><span class="pun">),</span><span class="pln"> enginesoundf </span><span class="pun">)</span></pre>

<p>
	<br />
	 
</p>

<p>
	<font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;"><font style="vertical-align:inherit;">Lado do servidor</font></font></font></font>
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">function</span><span class="pln"> turnEngineOff </span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln">
        setVehicleEngineState </span><span class="pun">(</span><span class="pln"> vehicle</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"Caroff"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"Caroff"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> turnEngineOff</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> turnEngineOn </span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln">
        setVehicleEngineState </span><span class="pun">(</span><span class="pln"> vehicle</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"Caron"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"Caron"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> turnEngineOn</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> carfailure </span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> getElementHealth</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">360</span><span class="pln"> </span><span class="kwd">then</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">end</span><span class="pln"> 
        setElementHealth</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">,</span><span class="pln"> getElementHealth</span><span class="pun">(</span><span class="pln">vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"failurex"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"failurex"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> carfailure</span><span class="pun">)</span></pre>

<p>
	<br />
	 
</p>

<p>
	 
</p>
]]></description><guid isPermaLink="false">136907</guid><pubDate>Sat, 23 Jul 2022 14:19:58 +0000</pubDate></item><item><title>Staff Ver o nome e id da pessoa na deep-web</title><link>https://forum.multitheftauto.com/topic/136034-staff-ver-o-nome-e-id-da-pessoa-na-deep-web/</link><description><![CDATA[<pre class="ipsCode prettyprint lang-html prettyprinted"><span class="pln">		local MessagemANS = table.concat ( { ... }, " " );
		local MessagemANS222 = string.gsub(MessagemANS, "#%x%x%x%x%x%x", "")
		local MessagemANS333 = string.gsub(MessagemANS222, "#%x%x%x%x%x%x", "")
		local MessagemANS444 = string.gsub(MessagemANS333, "#%x%x%x%x%x%x", "")
		local MessagemANS555 = string.gsub(MessagemANS444, "#%x%x%x%x%x%x", "")
		local MessagemANS666 = string.gsub(MessagemANS555, "#%x%x%x%x%x%x", "")
		local MessagemANS777 = string.gsub(MessagemANS666, "#%x%x%x%x%x%x", "")
		local MessagemANS888 = string.gsub(MessagemANS777, "#%x%x%x%x%x%x", "")
		local MessagemANS999 = string.gsub(MessagemANS888, "#%x%x%x%x%x%x", "")
		local MessagemANS100 = string.gsub(MessagemANS999, "#%x%x%x%x%x%x", "")
		local MessagemANS101 = string.gsub(MessagemANS100, "#%x%x%x%x%x%x", "")
		local MessagemANS102 = string.gsub(MessagemANS101, "#%x%x%x%x%x%x", "")
		local MessagemANS103 = string.gsub(MessagemANS102, "#%x%x%x%x%x%x", "")
		local MessagemANS104 = string.gsub(MessagemANS103, "#%x%x%x%x%x%x", "")
		local MessagemANS105 = string.gsub(MessagemANS104, "#%x%x%x%x%x%x", "")
		Jogador2 = string.gsub(Jogador, "#%x%x%x%x%x%x", "")
		for _, player in ipairs ( getElementsByType ( "player" ) ) do
			if getElementData ( player, "Staff" ) ~= "Sim" then
				outputChatBox ( " #00FFFFB#FFFFFFV#00FFFFZ -  #000000[Deep-Web] - #ffffff"..MessagemANS105, player, 255, 255, 255, true )
			end
		end
		adminchat ( source, MessagemANS15 )
	end
end</span></pre>

<p>
	Ola amigos queria que staffs conseguem ver o nome e id da pessoa na mensagem do chat 
</p>
]]></description><guid isPermaLink="false">136034</guid><pubDate>Mon, 30 May 2022 15:28:45 +0000</pubDate></item><item><title>Duvida ID</title><link>https://forum.multitheftauto.com/topic/133632-duvida-id/</link><description><![CDATA[<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">local</span><span class="pln"> discordInfo </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="kwd">local</span><span class="pln"> discordCommands </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">-- Funções/Comandos que serão executados pelo BOT</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"settime"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> hour</span><span class="pun">,</span><span class="pln"> minute </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> success </span><span class="pun">=</span><span class="pln"> setTime</span><span class="pun">(</span><span class="pln">hour</span><span class="pun">,</span><span class="pln"> minute</span><span class="pun">)</span><span class="pln">
        
        </span><span class="kwd">if</span><span class="pln"> success </span><span class="kwd">then</span><span class="pln">
            outputMessage</span><span class="pun">(</span><span class="pln">admin </span><span class="pun">..</span><span class="pln"> </span><span class="str">" #ffffffalterou o horário do servidor para "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> hour </span><span class="pun">..</span><span class="pln"> </span><span class="str">":"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> minute </span><span class="pun">..</span><span class="pln"> </span><span class="str">"!"</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"você alterou o horário no servidor."</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"algo deu errado. Use o comando novamente usando-o corretamente. "</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"text"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        outputMessage</span><span class="pun">(</span><span class="pln">admin </span><span class="pun">..</span><span class="pln"> </span><span class="str">" #ffffffdisse: "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"sua mensagem ``"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"`` foi enviada."</span><span class="pln">
    </span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"status"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> online </span><span class="pun">=</span><span class="pln"> getPlayerCount</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> maxPlayers </span><span class="pun">=</span><span class="pln"> getMaxPlayers</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> serverName </span><span class="pun">=</span><span class="pln"> getServerName</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> serverIp </span><span class="pun">=</span><span class="pln"> getServerConfigSetting</span><span class="pun">(</span><span class="str">"serverip"</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> serverPort </span><span class="pun">=</span><span class="pln"> getServerPort</span><span class="pun">()</span><span class="pln">

        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            online </span><span class="pun">=</span><span class="pln"> online</span><span class="pun">,</span><span class="pln">
            maxPlayers </span><span class="pun">=</span><span class="pln"> maxPlayers</span><span class="pun">,</span><span class="pln">
            serverName </span><span class="pun">=</span><span class="pln"> serverName</span><span class="pun">,</span><span class="pln">
            serverIp </span><span class="pun">=</span><span class="pln"> serverIp</span><span class="pun">,</span><span class="pln">
            serverPort </span><span class="pun">=</span><span class="pln"> serverPort
        </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"mute"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> player </span><span class="pun">=</span><span class="pln"> getPlayerFromName</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln">
        
        </span><span class="kwd">if</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            </span><span class="kwd">local</span><span class="pln"> playerName </span><span class="pun">=</span><span class="pln"> getPlayerName</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">

            setPlayerMuted</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
            outputMessage</span><span class="pun">(</span><span class="pln">admin </span><span class="pun">..</span><span class="pln"> </span><span class="str">" #ffffffmutou "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> playerName </span><span class="pun">..</span><span class="pln"> </span><span class="str">"!"</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"**"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> playerName </span><span class="pun">..</span><span class="pln"> </span><span class="str">"** foi mutado(a)!"</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"**"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"** está inválido."</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"givemoney"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> player </span><span class="pun">=</span><span class="pln"> getPlayerFromName</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> amount </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">2</span><span class="pun">])</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> isElement</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"**"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> </span><span class="str">"** está inválido."</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> amount </span><span class="kwd">or</span><span class="pln"> amount </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"insira um valor válido e maior que 0."</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">

        </span><span class="kwd">local</span><span class="pln"> playerName </span><span class="pun">=</span><span class="pln"> getPlayerName</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">

        givePlayerMoney</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> amount</span><span class="pun">)</span><span class="pln">
        outputMessage</span><span class="pun">(</span><span class="pln">admin </span><span class="pun">..</span><span class="pln"> </span><span class="str">" #ffffffdeu #008500R$"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> amount </span><span class="pun">..</span><span class="pln"> </span><span class="str">" #ffffffpara "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> playerName </span><span class="pun">..</span><span class="pln"> </span><span class="str">"!"</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"**"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> playerName </span><span class="pun">..</span><span class="pln"> </span><span class="str">"** recebeu ``R$"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> amount </span><span class="pun">..</span><span class="pln"> </span><span class="str">"``."</span><span class="pln">
    </span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"cgroup"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> groupName </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> groupName </span><span class="kwd">then</span><span class="pln">
            </span><span class="kwd">local</span><span class="pln"> checkGroup </span><span class="pun">=</span><span class="pln"> aclGetGroup</span><span class="pun">(</span><span class="pln">groupName</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> checkGroup </span><span class="kwd">then</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"um grupo com esse nome já existe."</span><span class="pln">
            </span><span class="kwd">end</span><span class="pln">

            </span><span class="kwd">local</span><span class="pln"> newGroup </span><span class="pun">=</span><span class="pln"> aclCreateGroup</span><span class="pun">(</span><span class="pln">groupName</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> newGroup </span><span class="kwd">then</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"ocorreu um erro ao tentar criar o novo grupo."</span><span class="pln">
            </span><span class="kwd">end</span><span class="pln">

            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"grupo com o nome ``"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> groupName </span><span class="pun">..</span><span class="pln"> </span><span class="str">"`` foi adicionado à ACL."</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">[</span><span class="str">"uuu"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> admin </span><span class="pun">==</span><span class="pln"> </span><span class="str">"Console"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
            discordInfo</span><span class="pun">.</span><span class="pln">members </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln">
            discordInfo</span><span class="pun">.</span><span class="pln">inviteCode </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln">
            discordInfo</span><span class="pun">.</span><span class="pln">guildName </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln">

            updateInfo</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
    
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> discordRequest</span><span class="pun">(</span><span class="pln">command</span><span class="pun">,</span><span class="pln"> admin</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> discordCommands</span><span class="pun">[</span><span class="pln">command</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"o comando não existe no servidor MTA."</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">

    </span><span class="kwd">local</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{...}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> discordCommands</span><span class="pun">[</span><span class="pln">command</span><span class="pun">](</span><span class="pln">admin</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> updateInfo</span><span class="pun">()</span><span class="pln">
    triggerClientEvent</span><span class="pun">(</span><span class="str">"discordapp.update"</span><span class="pun">,</span><span class="pln"> resourceRoot</span><span class="pun">,</span><span class="pln"> discordInfo</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> outputMessage</span><span class="pun">(</span><span class="pln">message</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> outputChatBox</span><span class="pun">(</span><span class="str">"#cccccc[DISCORD] #ffffff"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> message</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span></pre>

<p>
	 
</p>

<p>
	<strong>Ao invés de executar os comandos a partir do nome do player, queria que executasse pelo id do player e não sei como eu poderia fazer isso</strong>                                                                                                                    
</p>

<p>
	 
</p>

<p>
	 [SISTEMA DE ID QUE USO]
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">function</span><span class="pln"> Start_Id </span><span class="pun">(</span><span class="pln"> _</span><span class="pun">,</span><span class="pln"> acc </span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> eventName </span><span class="pun">==</span><span class="pln"> </span><span class="str">"onPlayerLogin"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		setElementData </span><span class="pun">(</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ID"</span><span class="pun">,</span><span class="pln"> getAccountID</span><span class="pun">(</span><span class="pln">acc</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="str">"N/A"</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">elseif</span><span class="pln"> eventName </span><span class="pun">==</span><span class="pln"> </span><span class="str">"onPlayerLogout"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		removeElementData</span><span class="pun">(</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ID"</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">elseif</span><span class="pln"> eventName </span><span class="pun">==</span><span class="pln"> </span><span class="str">"onResourceStart"</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> _</span><span class="pun">,</span><span class="pln"> player </span><span class="kwd">in</span><span class="pln"> pairs</span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"player"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> acc </span><span class="pun">=</span><span class="pln"> getPlayerAccount</span><span class="pun">(</span><span class="pln">player</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> isGuestAccount</span><span class="pun">(</span><span class="pln">acc</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
				setElementData</span><span class="pun">(</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ID"</span><span class="pun">,</span><span class="pln"> getAccountID</span><span class="pun">(</span><span class="pln">acc</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="str">"N/A"</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onResourceStart"</span><span class="pun">,</span><span class="pln"> resourceRoot</span><span class="pun">,</span><span class="pln"> Start_Id</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onPlayerLogout"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> Start_Id</span><span class="pun">)</span><span class="pln">
addEventHandler</span><span class="pun">(</span><span class="str">"onPlayerLogin"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> Start_Id</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> getPlayerID</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
	v </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> player </span><span class="kwd">in</span><span class="pln"> ipairs </span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"player"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ID"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> id </span><span class="kwd">then</span><span class="pln">
			v </span><span class="pun">=</span><span class="pln"> player
			</span><span class="kwd">break</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> v
</span><span class="kwd">end</span><span class="pln">
</span><span class="com">--============================================================================================================================--</span><span class="pln">
                                   </span><span class="com">--=============================--</span><span class="pln">
                                   </span><span class="com">----------- ID PLAYER ------------</span><span class="pln">
                                   </span><span class="com">--=============================--</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> getnick</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> command</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
        </span><span class="kwd">local</span><span class="pln"> playerID </span><span class="pun">=</span><span class="pln"> tonumber</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">playerID</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			</span><span class="kwd">local</span><span class="pln"> Player2 </span><span class="pun">=</span><span class="pln"> getPlayerID</span><span class="pun">(</span><span class="pln">playerID</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">Player2</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">	
				outputChatBox </span><span class="pun">(</span><span class="pln"> </span><span class="str">"#106FE7 #ffffffINFO #106FE7➺ #ffffff Nome do Jogador #106FE7"</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> getPlayerName</span><span class="pun">(</span><span class="pln">Player2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">..</span><span class="str">""</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln">
				outputChatBox </span><span class="pun">(</span><span class="pln"> </span><span class="str">"#106FE7 #ffffffERRO #106FE7➺ #ffffff O Jogador(a) de ID: #106FE7( "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> id </span><span class="pun">..</span><span class="pln"> </span><span class="str">" ) #ffffffNão Foi Encontrado!"</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
			</span><span class="kwd">end</span><span class="pln"> 
		</span><span class="kwd">else</span><span class="pln">
			outputChatBox </span><span class="pun">(</span><span class="pln"> </span><span class="str">"#106FE7 #ffffffERRO #106FE7➺ #ffffff ID: #106FE7( "</span><span class="pln"> </span><span class="pun">..</span><span class="pln"> id </span><span class="pun">..</span><span class="pln"> </span><span class="str">" ) #ffffffInválido!"</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln">
		outputChatBox </span><span class="pun">(</span><span class="pln"> </span><span class="str">"#106FE7 #ffffffERRO #106FE7➺ #ffffffUse /id #106FE7[#ffffffID#106FE7]"</span><span class="pun">,</span><span class="pln"> player</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addCommandHandler</span><span class="pun">(</span><span class="str">"id"</span><span class="pun">,</span><span class="pln"> getnick</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> getPlayerID</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
	v </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> player </span><span class="kwd">in</span><span class="pln"> ipairs </span><span class="pun">(</span><span class="pln">getElementsByType</span><span class="pun">(</span><span class="str">"player"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> getElementData</span><span class="pun">(</span><span class="pln">player</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ID"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> id </span><span class="kwd">then</span><span class="pln">
			v </span><span class="pun">=</span><span class="pln"> player
			</span><span class="kwd">break</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> v
</span><span class="kwd">end</span></pre>

<p>
	 
</p>
]]></description><guid isPermaLink="false">133632</guid><pubDate>Fri, 24 Dec 2021 10:23:58 +0000</pubDate></item><item><title>Minha concessionaria n&#xE3;o vende para outros player</title><link>https://forum.multitheftauto.com/topic/133791-minha-concessionaria-n%C3%A3o-vende-para-outros-player/</link><description><![CDATA[<p>
	config = { <br />
	    gerais = { <br />
	        veiculosmax = 3, -- Veículos Máximos que o Jogador vai poder ter na Garagem.<br />
	        elementfuel = "fuel", -- Element Data de Gasolina do seu Servidor.<br />
	        elementid = "ID", -- Element Data de ID do seu Servidor.<br />
	        infobox = "showInfobox", -- Evento da sua Infobox.<br />
	        distancia = 10, -- Distancia do Player e do Veículo. (Guardar Veículo)<br />
	        velocitymax = 400, -- Velocidade Máximas de todos os Veículos.<br />
	        acls = {"Console"}, -- ACL's Administradoras do seu Servidor.<br />
	    },<br />
	    commands = { <br />
	        destruirveh = "dv", -- Comando de Destruir o Veículo.<br />
	        giveveh = "giveveh", -- Comando de Givar Veículo a Garagem do Jogador.<br />
	        takeveh = "takeveh", -- Comando de Retirar o Veículo da Garagem do Jogador.<br />
	        docveh = "doc", -- Comando de Puxar o Documento do Veículo.<br />
	    },<br />
	    valores = {<br />
	        localizar = 500, -- Valor de Localizar o Veículo.<br />
	        desmanchar = 75, -- Porcentagem que o Player que Desmanchar irá receber ao Desmanchar um Veículo.<br />
	        apreender = 75, -- Porcentagem que o Player que Apreender irá receber ao Apreender um Veículo.<br />
	        valorD = math.random (1000, 20000), -- Valor que o Player irá Receber ao Desmanchar um Veículo que não seja da Concessionaria.<br />
	    },<br />
	    ipva = { <br />
	        tempo = 120, -- Tempo em Minutos para o IPVA ser cobrado.<br />
	        porcentagem = 7, -- Porcentagem do IPVA a ser Cobrado.<br />
	    },<br />
	    tempos = { <br />
	        desmanchar = 10, -- Tempo em Segundos para o Jogador desmanhar o Veículo.<br />
	        localizar = 15, -- Tempo em Segundos que o Veículo irá ficar Localizado pelo Seguro.<br />
	    },<br />
	    doc = { <br />
	        acl = "Policial", -- ACL Policial do seu servidor.<br />
	    },<br />
	    detran = {<br />
	        valor_apreender_s = 5, -- Porcentagem que o Player vai ter que pagar para retirar do Detran caso o Veículo tenha seguro.<br />
	        valor_apreender = 25, -- Porcentagem que o Player vai ter que pagar para retirar do Detran caso o Veículo não tenha seguro.<br />
	        valor_desmanche = 40, -- Porcentagem que o Player vai ter que pagar para retirar do Desmanche.<br />
	        valor_emplacar = 2500, -- Valor do Emplacamento do Veículo.<br />
	        valor_seguro = 30, -- Porcentagem que o Player vai ter que pagar para Contratar Seguro.<br />
	    },<br />
	    botoes = { <br />
	        trancardes = "l", -- Botão de trancar e destrancar Veículos.<br />
	        desmanchar = "e", -- Botão para Desmanchar veículos.<br />
	        apreender = "e", -- Botão para Apreender veículos.<br />
	    },<br />
	    camera = {<br />
	        cameraveiculo = {-2372.9587402344, -233.66189575195, 43.653499603271, -2373.775390625, -234.23181152344, 43.561828613281, 0, 70}, -- Posição da Camera Matrix aonde o Veículo irá aparecer.<br />
	        posicaoveiculo = {-2381.1853027344,-239.62937927246, 42.706840515137 -0.5 , -45}, -- Posição, Rotação Z do Veículo na camera Matrix.<br />
	    },<br />
	    concessionarias = { <br />
	        {x = -2419.95215, y =-606.48846, z = 132.56250, cor = {0, 255, 127, 75}, blip = 55}, <br />
	    },<br />
	    garagens = { <br />
	    <br />
	        {x = -2435.48389, y = -613.07092, z = 132.54694, cor = {0, 255, 127, 75}, blip = 53, spawn = {-2433.49341, -601.58887, 132.37053, -0, 0, 179.799}}, -- Posição X, Posição Y, Posição Z, Cor, Blip, Posição/Rotação do Spawn do Veículo ao Retirar da Garagem.<br />
	        {x = 2120.597, y = -1782.754, z = 13.388, cor = {0, 255, 127, 75}, blip = 53, spawn = {2117.206, -1784.373,13.387, -0, 0, 179.799}}, -- Posição X, Posição Y, Posição Z, Cor, Blip, Posição/Rotação do Spawn do Veículo ao Retirar da Garagem.<br />
	    },<br />
	    desmanches = { <br />
	        {x = -2431.45776, y = -620.42102, z = 132.55463, cor = {0, 255, 127, 0}, blip = 36, Acl = "Gang"}, -- Posição X, Posição Y, Posição Z, Cor, Blip, Acl do Desmanche.<br />
	    },<br />
	    detrans = { <br />
	        {x = -2421.17163, y = -621.57513, z = 132.62881, cor = {0, 255, 127, 75}, blip = 48}, -- Posição X, Posição Y, Posição Z, Cor, Blip do Detran.<br />
	    },<br />
	    apreensoes = { <br />
	        {x = -2407.03687, y = -603.60828, z = 132.64844, cor = {0, 255, 127, 0}, blip = 58, Acl = "Policial"},-- Posição X, Posição Y, Posição Z, Cor, Blip do Apreensão, Acl da Apreensão.<br />
	    },<br />
	    veiculos = {<br />
	        {name = "Biz", model = 462, price = 5000, mark = "Honda", velocity = 90, capacity = 10}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas. <br />
	        {name = "CG 160", model = 461, price = 12000, mark = "Honda", velocity = 145, capacity = 0}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "XRE", model = 468, price = 17000, mark = "Honda", velocity = 140, capacity = 0}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Tiger 800", model = 581, price = 39900, mark = "Triumph", velocity = 220, capacity = 0}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "S1000rr", model = 522, price = 130000, mark = "bmw", velocity = 240, capacity = 0}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Daemon", model = 463, price = 120000, mark = "", velocity = 160, capacity = 0}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Akuma", model = 586, price = 120000, mark = "", velocity = 160, capacity = 0}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Fusca", model = 545, price = 15000, mark = "volkswagen", velocity = 110, capacity = 30}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Celta", model = 550, price = 20000, mark = "Chevrolet", velocity = 130, capacity = 50}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Chevete", model = 401, price = 23000, mark = "Chevrolet", velocity = 160, capacity = 50}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Opala", model = 566, price = 25000, mark = "Chevrolet", velocity = 160, capacity = 50}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Gol G4", model = 540, price = 28000, mark = "volkswagen", velocity = 140, capacity = 60}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Saveiro", model = 422, price = 30000, mark = "volkswagen", velocity = 180, capacity = 80}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Saveiro Cross", model = 600, price = 60000, mark = "volkswagen", velocity = 180, capacity = 80}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Punto", model = 410, price = 70000, mark = "Fiat", velocity = 140, capacity = 60}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Duster", model = 561, price = 80000, mark = "Renaul", velocity = 160, capacity = 60}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "HB20", model = 551, price = 80000, mark = "Hyundai", velocity = 180, capacity = 50}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "Honda Civic", model = 516, price = 120000, mark = "Ford", velocity = 180, capacity = 50}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	        {name = "S10", model = 479, price = 130000, mark = "Chevrolet", velocity = 180, capacity = 90}, -- Nome do Veículo, Modelo do Veículo, Preço do Veículo, Marca do Veículo, Velocidade Máxima do Veículo, Capacidade do Porta Malas.<br />
	            <br />
	    
</p>

<p>
	    },<br />
	}
</p>
]]></description><guid isPermaLink="false">133791</guid><pubDate>Wed, 05 Jan 2022 21:39:54 +0000</pubDate></item><item><title>Tabela Rank</title><link>https://forum.multitheftauto.com/topic/135908-tabela-rank/</link><description><![CDATA[<div>
	<div>
		Opa, gostaria <abbr title="Definitive Edition"><abbr title="Definitive Edition">de</abbr></abbr> saber como faço para que quando o rank for chamado ele organize  em ordem por Kills. Tipo 1,2,3 e etc...
		<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">function</span><span class="pln"> recebeKills </span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> data </span><span class="pun">=</span><span class="pln"> getAccounts </span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> accTable </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> killsTable </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> deathsTable </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> killDeath </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> kill </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
	</span><span class="kwd">local</span><span class="pln"> death </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> data</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
		triggerClientEvent </span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"showScores"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> acc </span><span class="kwd">in</span><span class="pln"> ipairs </span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">do</span><span class="pln">
		table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">accTable</span><span class="pun">,</span><span class="pln"> getAccountName </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]))</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> getAccountData </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="str">"kills"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">killsTable</span><span class="pun">,</span><span class="pln"> </span><span class="str">"0"</span><span class="pun">)</span><span class="pln">
			kill </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">killsTable</span><span class="pun">,</span><span class="pln"> tostring </span><span class="pun">(</span><span class="pln">getAccountData </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="str">"kills"</span><span class="pun">)))</span><span class="pln">
			kill </span><span class="pun">=</span><span class="pln"> tonumber </span><span class="pun">(</span><span class="pln">getAccountData </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="str">"kills"</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> getAccountData </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="str">"deaths"</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">deathsTable</span><span class="pun">,</span><span class="pln"> </span><span class="str">"0"</span><span class="pun">)</span><span class="pln">
			death </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">deathsTable</span><span class="pun">,</span><span class="pln"> tostring </span><span class="pun">(</span><span class="pln">getAccountData </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="str">"deaths"</span><span class="pun">)))</span><span class="pln">
			death </span><span class="pun">=</span><span class="pln"> tonumber </span><span class="pun">(</span><span class="pln">getAccountData </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="str">"deaths"</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> death </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> kill </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
			table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">killDeath</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">else</span><span class="pln">
			table</span><span class="pun">.</span><span class="pln">insert </span><span class="pun">(</span><span class="pln">killDeath</span><span class="pun">,</span><span class="pln"> kill </span><span class="pun">/</span><span class="pln"> death</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">
	triggerClientEvent </span><span class="pun">(</span><span class="pln">client</span><span class="pun">,</span><span class="pln"> </span><span class="str">"showRank"</span><span class="pun">,</span><span class="pln"> client</span><span class="pun">,</span><span class="pln"> accTable</span><span class="pun">,</span><span class="pln"> killsTable</span><span class="pun">,</span><span class="pln"> deathsTable</span><span class="pun">,</span><span class="pln"> killDeath</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
addEvent </span><span class="pun">(</span><span class="str">"getRank"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
addEventHandler </span><span class="pun">(</span><span class="str">"getRank"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> recebeKills</span><span class="pun">)</span></pre>

		<p>
			 
		</p>
	</div>
</div>
]]></description><guid isPermaLink="false">135908</guid><pubDate>Sun, 22 May 2022 16:25:28 +0000</pubDate></item><item><title>Estou tendo problemas com setElementData</title><link>https://forum.multitheftauto.com/topic/135608-estou-tendo-problemas-com-setelementdata/</link><description><![CDATA[<p>
	eu fiz um sistema <abbr title="Definitive Edition">de</abbr> /pro, so que quando o player morre ele continua com o pro, eu ja tentei desativar com o evento "onPlayerWasted" mas nao funciona.
</p>

<p>
	 
</p>

<pre class="ipsCode prettyprint lang-html prettyprinted"><span class="pln">function godCommand(player)
local conta = getAccountName ( getPlayerAccount ( player ) )
	if isObjectInACLGroup ("user."..conta, aclGetGroup ( "Staff" ) ) then
	if getElementData(player,"onProt") then
	setElementData(player,"onProt",false)
        setElementModel(player, 0)
	outputChatBox("O staff "..getPlayerName(player).." esta OFF",root,255,255,0,true)
	else
	setElementData(player,"onProt",true)
        setElementModel(player, 10)
	outputChatBox("O staff "..getPlayerName(player).." esta ON",root,255,255,0,true)
	end
	end
end

addCommandHandler("pro",godCommand)</span></pre>

<p>
	eu queria colocar o onProt no false quando o player morrer.
</p>
]]></description><guid isPermaLink="false">135608</guid><pubDate>Fri, 29 Apr 2022 21:35:48 +0000</pubDate></item><item><title>Upload Imagens</title><link>https://forum.multitheftauto.com/topic/136462-upload-imagens/</link><description><![CDATA[<p>
	Estou tentando criar um sistema <abbr title="Definitive Edition">de</abbr> fotos para enviar nas mensagens do celular mas como eu poderia fazer isso ? é possivel fazer em .lua ?
</p>
]]></description><guid isPermaLink="false">136462</guid><pubDate>Fri, 24 Jun 2022 16:11:13 +0000</pubDate></item><item><title>preciso de ajuda</title><link>https://forum.multitheftauto.com/topic/136834-preciso-de-ajuda/</link><description><![CDATA[<p>
	alguem me ajuda a fazer um script <abbr title="Definitive Edition">de</abbr> msg no chat apos morte? eu queria saber qual comando e eu uso pro script detectar a morte do jogador.
</p>
]]></description><guid isPermaLink="false">136834</guid><pubDate>Tue, 19 Jul 2022 04:01:25 +0000</pubDate></item><item><title>AJUDA POR FAVOR  SISTEMA LEVEL</title><link>https://forum.multitheftauto.com/topic/136742-ajuda-por-favor-sistema-level/</link><description><![CDATA[<p>
	ARRUMEI UM LEVEL PARA COLOCAR MEU SERVIDOR MAIS FICO BUGADO EM ALGUMAS RELUÇAO O TEXTO FICAR MAIS NA RELUÇAO 800X600 NA 1360X768 FICA CERTINHO JA NA 1920X1080 O TEXO ESCRITO LEVEL:  FICA MUITO PEQUENO <br />
	 
</p>

<p>
	--]]
</p>

<p>
	local sx,sy = guiGetScreenSize() <br />
	local px,py = 1366,768<br />
	local x,y =  (sx/px),(sy/py)
</p>

<p>
	<br />
	function drawLevel ()<br />
	    local levelProgress = (getElementData(localPlayer,"minutes") or 0)<br />
	    dxDrawRectangle(x*1195, y*141, x*202/110*levelProgress, y*13, tocolor(207, 207, 207, 125), false)<br />
	    dxDrawText(" "..(getElementData(localPlayer,"Level") or 0), x*1561, y*4, x*1000, y*292, tocolor(255, 255, 255, 255), x*0.58, "bankgothic","center", "center", false, false, false, false, false)<br />
	    <br />
	end
</p>

<p>
	<br />
	addEventHandler("onClientRender",getRootElement(),drawLevel)
</p>

<p>
	<br />
	local screenW, screenH = guiGetScreenSize()
</p>

<p>
	addEventHandler("onClientRender", root,<br />
	    function()<br />
	         dxDrawText("LEVEL:", screenW * 0.8426, screenH * 0.1816, screenW * 0.9568, screenH * 0.2018, tocolor(255, 255, 255, 255), 0.51, "bankgothic", "center", "center", false, false, false, false, false)<br />
	    end<br />
	)<br />
	 
</p>

<p>
	 
</p>
]]></description><guid isPermaLink="false">136742</guid><pubDate>Wed, 13 Jul 2022 00:20:54 +0000</pubDate></item><item><title>Fazer aparece o painel quando passar no marker!</title><link>https://forum.multitheftauto.com/topic/136748-fazer-aparece-o-painel-quando-passar-no-marker/</link><description><![CDATA[<p>
	Opa, sou novo na programação do <abbr title="Multi Theft Auto">MTA</abbr> e estou com dificuldades <abbr title="Definitive Edition">de</abbr> fazer um script.<br />
	<br />
	Criei um painel com o guieditor e queria que ele abrisse quando eu passasse no marker, e descobrir que a função do marker fica no server e <abbr title="Definitive Edition">de</abbr> abrir o painel no client, 
</p>

<p>
	pesquisei para entende como ligo um ao outro e descobrir o addEvent, porém não conseguir fazer até agora, fiz <abbr title="Definitive Edition">de</abbr> varias maneiras mais estou muito confuso e já fiquei perdido e sem ideias, se alguém poder me ajudar ficarei muito agradecido !!<br />
	<br />
	agradeço !! o Primeiro é o lado do Client e o outro é do lado do Serve.
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="pln">
addEvent</span><span class="pun">(</span><span class="str">"painelTrafico"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="kwd">local</span><span class="pln"> visible </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> 
</span><span class="kwd">local</span><span class="pln"> screenW</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">=</span><span class="pln"> guiGetScreenSize</span><span class="pun">()</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> painel</span><span class="pun">()</span><span class="pln">
        dxDrawLine</span><span class="pun">((</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.2632</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3021</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.2632</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7526</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">191</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7801</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3021</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.2632</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3021</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">191</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">((</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.2632</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7526</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7801</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7526</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">191</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7801</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7526</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7801</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3021</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">191</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawRectangle</span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.2632</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3021</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5169</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4505</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">35</span><span class="pun">,</span><span class="pln"> </span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">33</span><span class="pun">,</span><span class="pln"> </span><span class="lit">244</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawText</span><span class="pun">(</span><span class="str">"Trabalho Ilegal -BVC"</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.2559</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3021</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7750</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3607</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">96</span><span class="pun">,</span><span class="pln"> </span><span class="lit">248</span><span class="pun">,</span><span class="pln"> </span><span class="lit">88</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1.00</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pricedown"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawText</span><span class="pun">(</span><span class="str">"Ganho: R$ 580"</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4169</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4688</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6110</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5625</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">189</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1.00</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bankgothic"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">((</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4176</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5977</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4176</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6641</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">189</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6125</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5977</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4176</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5977</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">189</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">((</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4176</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6641</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6125</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6641</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">189</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawLine</span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6125</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6641</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6125</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5977</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">189</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawRectangle</span><span class="pun">(</span><span class="pln">screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4176</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5977</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.1949</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.0664</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">107</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawText</span><span class="pun">(</span><span class="str">"Pegar Trabalho "</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4169</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5951</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6125</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6641</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">207</span><span class="pun">,</span><span class="pln"> </span><span class="lit">141</span><span class="pun">,</span><span class="pln"> </span><span class="lit">36</span><span class="pun">,</span><span class="pln"> </span><span class="lit">199</span><span class="pun">),</span><span class="pln"> </span><span class="lit">1.00</span><span class="pun">,</span><span class="pln"> </span><span class="str">"pricedown"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
        dxDrawText</span><span class="pun">(</span><span class="str">"Carga de Maconha"</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4206</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.3867</span><span class="pun">,</span><span class="pln"> screenW </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.6110</span><span class="pun">,</span><span class="pln"> screenH </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.4557</span><span class="pun">,</span><span class="pln"> tocolor</span><span class="pun">(</span><span class="lit">107</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">254</span><span class="pun">),</span><span class="pln"> </span><span class="lit">2.00</span><span class="pun">,</span><span class="pln"> </span><span class="str">"diploma"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"center"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
   
    </span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">function</span><span class="pln"> abrirPainel</span><span class="pun">()</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> visible </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="kwd">then</span><span class="pln">
	addEventHandler</span><span class="pun">(</span><span class="str">"onClientRender"</span><span class="pun">,</span><span class="pln"> getRootElement</span><span class="pun">(),</span><span class="pln"> painel</span><span class="pun">)</span><span class="pln">
		</span><span class="kwd">end</span><span class="pln">
	</span><span class="kwd">end</span><span class="pln">

addEventHandler</span><span class="pun">(</span><span class="str">"painelTrafico"</span><span class="pln"> root</span><span class="pun">,</span><span class="pln"> painel</span><span class="pun">,</span><span class="pln"> abrirPainel</span><span class="pun">)</span></pre>

<p>
	aqui
</p>

<pre class="ipsCode prettyprint lang-lua prettyprinted"><span class="kwd">local</span><span class="pln"> mrk </span><span class="pun">=</span><span class="pln"> createMarker </span><span class="pun">(</span><span class="lit">2493.9443359375</span><span class="pun">,</span><span class="lit">-952.806640625</span><span class="pun">,</span><span class="lit">81.248107910156</span><span class="pun">,</span><span class="pln"> </span><span class="str">"cylinder"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">211</span><span class="pun">,</span><span class="pln"> </span><span class="lit">102</span><span class="pln"> </span><span class="pun">,</span><span class="lit">13</span><span class="pun">)</span><span class="pln">


	</span><span class="kwd">function</span><span class="pln"> trafico</span><span class="pun">()</span><span class="pln">
		outputChatBox</span><span class="pun">(</span><span class="str">"teste!!"</span><span class="pun">)</span><span class="pln">
		visible </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> 
		triggerClientEvent</span><span class="pun">(</span><span class="str">"painelTrafico"</span><span class="pun">,</span><span class="pln"> root</span><span class="pun">)</span><span class="pln">
	
	</span><span class="kwd">end</span><span class="pln">
	addEventHandler</span><span class="pun">(</span><span class="str">"onMarkerHit"</span><span class="pun">,</span><span class="pln"> mrk</span><span class="pun">,</span><span class="pln"> trafico</span><span class="pun">)</span></pre>

<p>
	Obrigado!!
</p>
]]></description><guid isPermaLink="false">136748</guid><pubDate>Wed, 13 Jul 2022 14:07:27 +0000</pubDate></item><item><title>Como fa&#xE7;o para quando eu quitar e quando eu descer do carro do painel vip ele su</title><link>https://forum.multitheftauto.com/topic/136771-como-fa%C3%A7o-para-quando-eu-quitar-e-quando-eu-descer-do-carro-do-painel-vip-ele-su/</link><description><![CDATA[<p>
	Preciso <abbr title="Definitive Edition">de</abbr> ajuda rápido, estou com um painel vip só que quero programar para quando descer do carro ele sumir e quando quitar também
</p>

<p>
	 
</p>
]]></description><guid isPermaLink="false">136771</guid><pubDate>Fri, 15 Jul 2022 12:27:14 +0000</pubDate></item><item><title>AJUDA COM API VINCULADO AO MTA SA</title><link>https://forum.multitheftauto.com/topic/136674-ajuda-com-api-vinculado-ao-mta-sa/</link><description><![CDATA[<p>
	Olá pessoal, gostaria <abbr title="Definitive Edition">de</abbr> algumas dicas <abbr title="Definitive Edition">de</abbr> como posso vincular um site com <abbr title="Multi Theft Auto">mta</abbr>.
</p>

<p>
	por ex: um sistema <abbr title="Definitive Edition">de</abbr> vip que o comprador faça o pagamento pelo site e seja enviado algum tipo <abbr title="Definitive Edition">de</abbr> código <abbr title="Definitive Edition">de</abbr> ativação automatica.
</p>

<p>
	ou até mesmo o jogador ter acesso alguma informação do servidor passado pelo site ex: money, item, etc. Obrigado
</p>

<p>
	 
</p>
]]></description><guid isPermaLink="false">136674</guid><pubDate>Fri, 08 Jul 2022 16:41:43 +0000</pubDate></item><item><title>Como fa&#xE7;o para quando deslogar o carro sumir tbm</title><link>https://forum.multitheftauto.com/topic/136728-como-fa%C3%A7o-para-quando-deslogar-o-carro-sumir-tbm/</link><description><![CDATA[<p>
	fiz um painel <abbr title="Definitive Edition">de</abbr> gang mas quando vc desloga e deixa o carro spawnado ele nao some 
</p>

<p>
	como faço para quando a pessoa deslogar o carro sumir automaticamente?
</p>

<pre class="ipsCode prettyprint lang-html prettyprinted"><span class="pln">veh = {}
function criarxx()
    if veh[source] and isElement( veh[source] ) then destroyElement( veh[source] ) 
 veh[source] = nil 
 end
    local x,y,z = getElementPosition(source)
    veh[source] = createVehicle(467, x,y,z + 2)
 warpPedIntoVehicle (source,veh[source])
end
addEvent("carrop",true)
addEventHandler("carrop",root,criarxx)

---------------------------------------------------------------------------------------


function criarxx2()
    if veh[source] and isElement( veh[source] ) then destroyElement( veh[source] ) 
 veh[source] = nil 
 end
    local x,y,z = getElementPosition(source)
    veh[source] = createVehicle(502, x,y,z + 2)
 warpPedIntoVehicle (source,veh[source])
end
addEvent("carrop2",true)
addEventHandler("carrop2",root,criarxx2)</span></pre>

<p>
	No caso seria esse parte do código do painel
</p>
]]></description><guid isPermaLink="false">136728</guid><pubDate>Tue, 12 Jul 2022 04:07:20 +0000</pubDate></item></channel></rss>
